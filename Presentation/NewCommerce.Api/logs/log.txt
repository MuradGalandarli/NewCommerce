2025-03-05 18:26:11.665 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-05 18:26:11.849 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-05 18:26:11.851 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-05 18:26:11.893 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-05 18:26:11.895 +04:00 [INF] Hosting environment: Development
2025-03-05 18:26:11.895 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-05 18:26:12.634 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-05 18:26:12.779 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 154.4294ms
2025-03-05 18:26:12.789 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-05 18:26:12.795 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-05 18:26:12.801 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 12.2326ms
2025-03-05 18:26:12.843 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.2016ms
2025-03-05 18:26:13.067 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-05 18:26:13.100 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.2665ms
2025-03-05 18:28:08.197 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Product?Page=2&Size=2 - null null
2025-03-05 18:28:09.078 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-05 18:28:09.087 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-05 18:28:09.090 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Product?Page=2&Size=2 - 401 0 null 895.1233ms
2025-03-05 18:28:39.075 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 57
2025-03-05 18:28:39.093 +04:00 [INF] CORS policy execution successful.
2025-03-05 18:28:39.100 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-05 18:28:39.125 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-05 18:28:40.530 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-05 18:28:41.066 +04:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-05 18:28:41.435 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-05 18:28:41.544 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-05 18:28:41.570 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-05 18:28:41.580 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 2449.6082ms
2025-03-05 18:28:41.583 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-05 18:28:41.591 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 200 null application/json; charset=utf-8 2515.9152ms
2025-03-05 19:06:07.004 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-05 19:06:07.220 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-05 19:06:07.221 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-05 19:06:07.261 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-05 19:06:07.261 +04:00 [INF] Hosting environment: Development
2025-03-05 19:06:07.262 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-05 19:06:08.082 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-05 19:06:08.285 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 212.932ms
2025-03-05 19:06:08.296 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-05 19:06:08.299 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-05 19:06:08.313 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 17.7072ms
2025-03-05 19:06:08.369 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.8432ms
2025-03-05 19:06:08.673 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-05 19:06:08.691 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.381ms
2025-03-05 19:06:45.940 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Product?Page=2&Size=2 - null null
2025-03-05 19:06:46.007 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-05 19:06:46.013 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-05 19:06:46.015 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Product?Page=2&Size=2 - 401 0 null 75.0298ms
2025-03-05 19:08:05.152 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-05 19:08:05.381 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-05 19:08:05.381 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-05 19:08:05.428 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-05 19:08:05.428 +04:00 [INF] Hosting environment: Development
2025-03-05 19:08:05.429 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-05 19:08:05.836 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-05 19:08:06.006 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 172.979ms
2025-03-05 19:08:06.020 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-05 19:08:06.020 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-05 19:08:06.034 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 11.9023ms
2025-03-05 19:08:06.060 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.3746ms
2025-03-05 19:08:06.319 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-05 19:08:06.338 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.8526ms
2025-03-05 19:08:52.275 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Product?Page=2&Size=2 - null null
2025-03-05 19:08:52.293 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.ProductController.GetAllProduct (NewCommerce.Api)'
2025-03-05 19:08:52.330 +04:00 [INF] Route matched with {action = "GetAllProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProduct(NewCommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller NewCommerce.Api.Controllers.ProductController (NewCommerce.Api).
2025-03-05 19:08:53.163 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-05 19:08:53.573 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-05 19:08:53.595 +04:00 [INF] List edildi
2025-03-05 19:08:53.604 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2025-03-05 19:08:53.637 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-05 19:08:53.640 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-05 19:08:53.740 +04:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreateDate", p."Name", p."Price", p."Stock", p."UpdateDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2025-03-05 19:08:53.785 +04:00 [INF] Executed action NewCommerce.Api.Controllers.ProductController.GetAllProduct (NewCommerce.Api) in 1449.363ms
2025-03-05 19:08:53.787 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.ProductController.GetAllProduct (NewCommerce.Api)'
2025-03-05 19:08:53.803 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Product?Page=2&Size=2 - 200 null application/json; charset=utf-8 1529.6205ms
2025-03-05 19:12:24.153 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-05 19:12:24.361 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-05 19:12:24.362 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-05 19:12:24.406 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-05 19:12:24.407 +04:00 [INF] Hosting environment: Development
2025-03-05 19:12:24.407 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-05 19:12:25.015 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-05 19:12:25.213 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 194.9689ms
2025-03-05 19:12:25.226 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-05 19:12:25.226 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-05 19:12:25.245 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 18.2302ms
2025-03-05 19:12:25.278 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.9628ms
2025-03-05 19:12:25.562 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-05 19:12:25.590 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.7753ms
2025-03-05 19:12:38.191 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Product?Page=2&Size=2 - null null
2025-03-05 19:12:38.215 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.ProductController.GetAllProduct (NewCommerce.Api)'
2025-03-05 19:12:38.240 +04:00 [INF] Route matched with {action = "GetAllProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProduct(NewCommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller NewCommerce.Api.Controllers.ProductController (NewCommerce.Api).
2025-03-05 19:12:39.081 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-05 19:12:39.634 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-05 19:12:39.659 +04:00 [INF] List edildi
2025-03-05 19:12:39.666 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2025-03-05 19:12:39.708 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-05 19:12:39.711 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-05 19:12:39.780 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreateDate", p."Name", p."Price", p."Stock", p."UpdateDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2025-03-05 19:12:39.806 +04:00 [INF] Executed action NewCommerce.Api.Controllers.ProductController.GetAllProduct (NewCommerce.Api) in 1558.8495ms
2025-03-05 19:12:39.808 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.ProductController.GetAllProduct (NewCommerce.Api)'
2025-03-05 19:12:39.820 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Product?Page=2&Size=2 - 200 null application/json; charset=utf-8 1629.6306ms
2025-03-05 19:22:57.982 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-05 19:22:58.413 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-05 19:22:58.415 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-05 19:22:58.535 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-05 19:22:58.537 +04:00 [INF] Hosting environment: Development
2025-03-05 19:22:58.540 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-05 19:22:59.330 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-05 19:22:59.552 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 234.1612ms
2025-03-05 19:22:59.567 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-05 19:22:59.567 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-05 19:22:59.581 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 14.9384ms
2025-03-05 19:22:59.619 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.998ms
2025-03-05 19:23:00.143 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-05 19:23:00.172 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.6655ms
2025-03-05 19:23:11.661 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 57
2025-03-05 19:23:11.683 +04:00 [INF] CORS policy execution successful.
2025-03-05 19:23:11.733 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-05 19:23:11.812 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-05 19:23:14.268 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-05 19:23:15.615 +04:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-05 19:23:16.444 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-05 19:23:16.739 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-05 19:23:16.804 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-05 19:23:16.846 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 5016.4523ms
2025-03-05 19:23:16.849 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-05 19:23:16.879 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 200 null application/json; charset=utf-8 5217.999ms
2025-03-05 19:27:51.634 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-05 19:27:51.999 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-05 19:27:52.000 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-05 19:27:52.062 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-05 19:27:52.063 +04:00 [INF] Hosting environment: Development
2025-03-05 19:27:52.063 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-05 19:27:52.998 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-05 19:27:53.336 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 341.9659ms
2025-03-05 19:27:53.369 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-05 19:27:53.369 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-05 19:27:53.387 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 17.6736ms
2025-03-05 19:27:53.433 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.059ms
2025-03-05 19:27:53.902 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-05 19:27:53.946 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.566ms
2025-03-05 19:28:28.852 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Product?Page=2&Size=2 - null null
2025-03-05 19:28:28.914 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.ProductController.GetAllProduct (NewCommerce.Api)'
2025-03-05 19:28:28.982 +04:00 [INF] Route matched with {action = "GetAllProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProduct(NewCommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller NewCommerce.Api.Controllers.ProductController (NewCommerce.Api).
2025-03-05 19:28:31.284 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-05 19:28:32.370 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-05 19:28:32.425 +04:00 [INF] List edildi
2025-03-05 19:28:32.447 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2025-03-05 19:28:32.535 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-05 19:28:32.540 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-05 19:28:32.687 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreateDate", p."Name", p."Price", p."Stock", p."UpdateDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2025-03-05 19:28:32.747 +04:00 [INF] Executed action NewCommerce.Api.Controllers.ProductController.GetAllProduct (NewCommerce.Api) in 3753.3948ms
2025-03-05 19:28:32.751 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.ProductController.GetAllProduct (NewCommerce.Api)'
2025-03-05 19:28:32.774 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Product?Page=2&Size=2 - 200 null application/json; charset=utf-8 3926.7961ms
2025-03-05 19:29:18.515 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 57
2025-03-05 19:29:18.529 +04:00 [INF] CORS policy execution successful.
2025-03-05 19:29:18.536 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-05 19:29:18.550 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-05 19:29:18.881 +04:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-05 19:29:19.726 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-05 19:29:20.029 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-05 19:29:20.070 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-05 19:29:20.079 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 1524.2283ms
2025-03-05 19:29:20.086 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-05 19:29:20.095 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 200 null application/json; charset=utf-8 1579.9175ms
2025-03-06 12:06:01.832 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-06 12:06:02.477 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-06 12:06:02.481 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-06 12:06:02.591 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-06 12:06:02.596 +04:00 [INF] Hosting environment: Development
2025-03-06 12:06:02.597 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-06 12:06:03.554 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-06 12:06:03.946 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 400.103ms
2025-03-06 12:06:04.003 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-06 12:06:04.018 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 14.8319ms
2025-03-06 12:06:04.024 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-06 12:06:04.124 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 100.2156ms
2025-03-06 12:06:05.082 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-06 12:06:05.136 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.0367ms
2025-03-06 12:09:07.675 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-06 12:09:07.974 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-06 12:09:07.976 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-06 12:09:08.050 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-06 12:09:08.050 +04:00 [INF] Hosting environment: Development
2025-03-06 12:09:08.051 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-06 12:09:08.670 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-06 12:09:08.975 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 311.7837ms
2025-03-06 12:09:08.986 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-06 12:09:08.986 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-06 12:09:08.995 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 9.0843ms
2025-03-06 12:09:09.067 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 81.3657ms
2025-03-06 12:09:09.948 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-06 12:09:10.040 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.9567ms
2025-03-06 12:09:29.695 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Product?Page=2&Size=2 - null null
2025-03-06 12:09:29.767 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.ProductController.GetAllProduct (NewCommerce.Api)'
2025-03-06 12:09:29.846 +04:00 [INF] Route matched with {action = "GetAllProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProduct(NewCommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller NewCommerce.Api.Controllers.ProductController (NewCommerce.Api).
2025-03-06 12:09:33.286 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-06 12:09:34.387 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-06 12:09:34.711 +04:00 [INF] Executed action NewCommerce.Api.Controllers.ProductController.GetAllProduct (NewCommerce.Api) in 4852.5044ms
2025-03-06 12:09:34.718 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.ProductController.GetAllProduct (NewCommerce.Api)'
2025-03-06 12:09:34.774 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: test
   at NewCommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryHandler.Handle(GetAllProductQueryRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Queries\Product\GetAllProduct\GetAllProductQueryHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.ProductController.GetAllProduct(GetAllProductQueryRequest getAllProductQueryRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\ProductController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 128
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-06 12:09:34.948 +04:00 [ERR] test
2025-03-06 12:09:34.992 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Product?Page=2&Size=2 - 500 null application/json 5297.3812ms
2025-03-08 21:59:57.631 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-08 22:00:09.960 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-08 22:00:10.154 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-08 22:00:38.617 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-08 22:00:38.846 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-08 22:00:38.864 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-08 22:00:38.925 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-08 22:00:38.992 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-08 22:00:39.012 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-08 22:00:39.035 +04:00 [INF] Applying migration '20250308180013_mig8'.
2025-03-08 22:00:39.144 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Files" ADD "Showcase" boolean;
2025-03-08 22:00:39.146 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250308180013_mig8', '8.0.10');
2025-03-08 22:38:50.395 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-08 22:38:50.747 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-08 22:38:50.749 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-08 22:38:50.784 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-08 22:38:50.786 +04:00 [INF] Hosting environment: Development
2025-03-08 22:38:50.787 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-08 22:38:51.183 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-08 22:38:51.345 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 164.7804ms
2025-03-08 22:38:51.355 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-08 22:38:51.355 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-08 22:38:51.361 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 5.9804ms
2025-03-08 22:38:51.405 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.5976ms
2025-03-08 22:38:51.731 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-08 22:38:51.755 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.8629ms
2025-03-08 22:58:15.662 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-08 22:58:15.834 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-08 22:58:15.835 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-08 22:58:15.874 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-08 22:58:15.874 +04:00 [INF] Hosting environment: Development
2025-03-08 22:58:15.875 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-08 22:58:16.137 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-08 22:58:16.282 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 147.4123ms
2025-03-08 22:58:16.290 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-08 22:58:16.290 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-08 22:58:16.307 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 17.0381ms
2025-03-08 22:58:16.336 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.1266ms
2025-03-08 22:58:16.708 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-08 22:58:16.734 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.9377ms
2025-03-08 22:59:14.270 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-08 22:59:14.456 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-08 22:59:14.457 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-08 22:59:14.507 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-08 22:59:14.511 +04:00 [INF] Hosting environment: Development
2025-03-08 22:59:14.512 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-08 22:59:15.054 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-08 22:59:15.174 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 123.4461ms
2025-03-08 22:59:15.187 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-08 22:59:15.187 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-08 22:59:15.197 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 9.8315ms
2025-03-08 22:59:15.223 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.5218ms
2025-03-08 22:59:15.465 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-08 22:59:15.488 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.0863ms
2025-03-08 23:03:39.689 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Product/ChangeShowcaseImage?ImageId=6bd32324-bccc-4df8-a7b7-339b0b5d93e5&ProductId=1c5934c8-1af1-4192-a1bc-c35bb1e924e8 - null null
2025-03-08 23:03:40.624 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-08 23:03:40.632 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-08 23:03:40.637 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Product/ChangeShowcaseImage?ImageId=6bd32324-bccc-4df8-a7b7-339b0b5d93e5&ProductId=1c5934c8-1af1-4192-a1bc-c35bb1e924e8 - 401 0 null 947.5445ms
2025-03-08 23:04:07.961 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-08 23:04:08.155 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-08 23:04:08.156 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-08 23:04:08.201 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-08 23:04:08.202 +04:00 [INF] Hosting environment: Development
2025-03-08 23:04:08.202 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-08 23:04:08.630 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-08 23:04:08.782 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 157.3347ms
2025-03-08 23:04:08.788 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-08 23:04:08.788 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-08 23:04:08.797 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 8.9142ms
2025-03-08 23:04:08.825 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.8043ms
2025-03-08 23:04:09.046 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-08 23:04:09.066 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.3767ms
2025-03-08 23:05:18.357 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Product/ChangeShowcaseImage?ImageId=6bd32324-bccc-4df8-a7b7-339b0b5d93e5&ProductId=1c5934c8-1af1-4192-a1bc-c35bb1e924e8 - null null
2025-03-08 23:05:18.376 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api)'
2025-03-08 23:05:18.401 +04:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(NewCommerce.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandRequest) on controller NewCommerce.Api.Controllers.ProductController (NewCommerce.Api).
2025-03-08 23:05:20.210 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-08 23:05:20.686 +04:00 [INF] Executed action NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api) in 2276.5616ms
2025-03-08 23:05:20.690 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api)'
2025-03-08 23:05:20.728 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The provider for the source IQueryable doesn't implement IDbAsyncQueryProvider. Only providers that implement IDbAsyncQueryProvider can be used for Entity Framework asynchronous operations. For more details see http://go.microsoft.com/fwlink/?LinkId=287068.
   at System.Data.Entity.QueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at System.Data.Entity.QueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate)
   at NewCommerce.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandHandler.Handle(ChangeShowcaseImageCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\ProductImageFile\ChangeShowcaseImage\ChangeShowcaseImageCommandHandler.cs:line 30
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage(ChangeShowcaseImageCommandRequest changeShowcaseImageCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\ProductController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 131
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-08 23:05:20.812 +04:00 [ERR] The provider for the source IQueryable doesn't implement IDbAsyncQueryProvider. Only providers that implement IDbAsyncQueryProvider can be used for Entity Framework asynchronous operations. For more details see http://go.microsoft.com/fwlink/?LinkId=287068.
2025-03-08 23:05:20.823 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Product/ChangeShowcaseImage?ImageId=6bd32324-bccc-4df8-a7b7-339b0b5d93e5&ProductId=1c5934c8-1af1-4192-a1bc-c35bb1e924e8 - 500 null application/json 2466.1178ms
2025-03-08 23:07:02.888 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Product/ChangeShowcaseImage?ImageId=6bd32324-bccc-4df8-a7b7-339b0b5d93e5&ProductId=1c5934c8-1af1-4192-a1bc-c35bb1e924e8 - null null
2025-03-08 23:07:02.904 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api)'
2025-03-08 23:07:02.905 +04:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(NewCommerce.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandRequest) on controller NewCommerce.Api.Controllers.ProductController (NewCommerce.Api).
2025-03-08 23:07:29.172 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreateDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id", t."CreateDate", t."Name", t."Price", t."Stock", t."UpdateDate"
FROM "Files" AS f
INNER JOIN (
    SELECT p0."Id", p0."CreateDate", p0."Name", p0."Price", p0."Stock", p0."UpdateDate", p."ProductImageFilesId"
    FROM "ProductProductImageFile" AS p
    INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
) AS t ON f."Id" = t."ProductImageFilesId"
WHERE f."Discriminator" = 'ProductImageFile'
2025-03-08 23:07:37.650 +04:00 [INF] Executed action NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api) in 34743.9025ms
2025-03-08 23:07:37.653 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api)'
2025-03-08 23:07:37.685 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The provider for the source IQueryable doesn't implement IDbAsyncQueryProvider. Only providers that implement IDbAsyncQueryProvider can be used for Entity Framework asynchronous operations. For more details see http://go.microsoft.com/fwlink/?LinkId=287068.
   at System.Data.Entity.QueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at System.Data.Entity.QueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate)
   at NewCommerce.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandHandler.Handle(ChangeShowcaseImageCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\ProductImageFile\ChangeShowcaseImage\ChangeShowcaseImageCommandHandler.cs:line 30
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage(ChangeShowcaseImageCommandRequest changeShowcaseImageCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\ProductController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 131
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-08 23:08:02.490 +04:00 [ERR] The provider for the source IQueryable doesn't implement IDbAsyncQueryProvider. Only providers that implement IDbAsyncQueryProvider can be used for Entity Framework asynchronous operations. For more details see http://go.microsoft.com/fwlink/?LinkId=287068.
2025-03-08 23:08:02.565 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Product/ChangeShowcaseImage?ImageId=6bd32324-bccc-4df8-a7b7-339b0b5d93e5&ProductId=1c5934c8-1af1-4192-a1bc-c35bb1e924e8 - 500 null application/json 59681.4606ms
2025-03-08 23:08:06.689 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Product/ChangeShowcaseImage?ImageId=6bd32324-bccc-4df8-a7b7-339b0b5d93e5&ProductId=1c5934c8-1af1-4192-a1bc-c35bb1e924e8 - null null
2025-03-08 23:08:06.694 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api)'
2025-03-08 23:08:06.694 +04:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(NewCommerce.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandRequest) on controller NewCommerce.Api.Controllers.ProductController (NewCommerce.Api).
2025-03-08 23:08:47.353 +04:00 [INF] Executed action NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api) in 40657.2039ms
2025-03-08 23:08:47.356 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api)'
2025-03-08 23:08:47.386 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The provider for the source IQueryable doesn't implement IDbAsyncQueryProvider. Only providers that implement IDbAsyncQueryProvider can be used for Entity Framework asynchronous operations. For more details see http://go.microsoft.com/fwlink/?LinkId=287068.
   at System.Data.Entity.QueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at System.Data.Entity.QueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate)
   at NewCommerce.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandHandler.Handle(ChangeShowcaseImageCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\ProductImageFile\ChangeShowcaseImage\ChangeShowcaseImageCommandHandler.cs:line 30
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage(ChangeShowcaseImageCommandRequest changeShowcaseImageCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\ProductController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 131
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-08 23:08:58.749 +04:00 [ERR] The provider for the source IQueryable doesn't implement IDbAsyncQueryProvider. Only providers that implement IDbAsyncQueryProvider can be used for Entity Framework asynchronous operations. For more details see http://go.microsoft.com/fwlink/?LinkId=287068.
2025-03-08 23:09:00.973 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Product/ChangeShowcaseImage?ImageId=6bd32324-bccc-4df8-a7b7-339b0b5d93e5&ProductId=1c5934c8-1af1-4192-a1bc-c35bb1e924e8 - 500 null application/json 54283.9806ms
2025-03-08 23:14:14.750 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-08 23:14:14.977 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-08 23:14:14.978 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-08 23:14:15.026 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-08 23:14:15.027 +04:00 [INF] Hosting environment: Development
2025-03-08 23:14:15.027 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-08 23:14:15.544 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-08 23:14:15.678 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 137.9492ms
2025-03-08 23:14:15.686 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-08 23:14:15.689 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-08 23:14:15.694 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 8.0872ms
2025-03-08 23:14:15.722 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.2905ms
2025-03-08 23:14:15.940 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-08 23:14:15.960 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.2874ms
2025-03-08 23:15:10.298 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Product/ChangeShowcaseImage?ImageId=6bd32324-bccc-4df8-a7b7-339b0b5d93e5&ProductId=1c5934c8-1af1-4192-a1bc-c35bb1e924e8 - null null
2025-03-08 23:15:10.323 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api)'
2025-03-08 23:15:10.346 +04:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(NewCommerce.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandRequest) on controller NewCommerce.Api.Controllers.ProductController (NewCommerce.Api).
2025-03-08 23:15:24.970 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-08 23:15:29.093 +04:00 [INF] Executed action NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api) in 18741.1565ms
2025-03-08 23:15:29.097 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api)'
2025-03-08 23:15:29.130 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The provider for the source IQueryable doesn't implement IDbAsyncQueryProvider. Only providers that implement IDbAsyncQueryProvider can be used for Entity Framework asynchronous operations. For more details see http://go.microsoft.com/fwlink/?LinkId=287068.
   at System.Data.Entity.QueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at System.Data.Entity.QueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate)
   at NewCommerce.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandHandler.Handle(ChangeShowcaseImageCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\ProductImageFile\ChangeShowcaseImage\ChangeShowcaseImageCommandHandler.cs:line 30
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage(ChangeShowcaseImageCommandRequest changeShowcaseImageCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\ProductController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 131
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-08 23:20:16.320 +04:00 [ERR] The provider for the source IQueryable doesn't implement IDbAsyncQueryProvider. Only providers that implement IDbAsyncQueryProvider can be used for Entity Framework asynchronous operations. For more details see http://go.microsoft.com/fwlink/?LinkId=287068.
2025-03-08 23:20:24.988 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Product/ChangeShowcaseImage?ImageId=6bd32324-bccc-4df8-a7b7-339b0b5d93e5&ProductId=1c5934c8-1af1-4192-a1bc-c35bb1e924e8 - 500 null application/json 314690.4291ms
2025-03-08 23:27:27.032 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-08 23:27:27.268 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-08 23:27:27.268 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-08 23:27:27.313 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-08 23:27:27.314 +04:00 [INF] Hosting environment: Development
2025-03-08 23:27:27.314 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-08 23:27:27.856 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-08 23:27:27.980 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 128.0101ms
2025-03-08 23:27:27.990 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-08 23:27:27.993 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-08 23:27:28.001 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 10.8335ms
2025-03-08 23:27:28.025 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.0903ms
2025-03-08 23:27:28.255 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-08 23:27:28.280 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.4423ms
2025-03-08 23:28:19.469 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Product/ChangeShowcaseImage?ImageId=6bd32324-bccc-4df8-a7b7-339b0b5d93e5&ProductId=1c5934c8-1af1-4192-a1bc-c35bb1e924e8 - null null
2025-03-08 23:28:19.496 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api)'
2025-03-08 23:28:19.515 +04:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(NewCommerce.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandRequest) on controller NewCommerce.Api.Controllers.ProductController (NewCommerce.Api).
2025-03-08 23:28:32.635 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-08 23:28:42.999 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreateDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id", t."CreateDate", t."Name", t."Price", t."Stock", t."UpdateDate"
FROM "Files" AS f
INNER JOIN (
    SELECT p0."Id", p0."CreateDate", p0."Name", p0."Price", p0."Stock", p0."UpdateDate", p."ProductImageFilesId"
    FROM "ProductProductImageFile" AS p
    INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
) AS t ON f."Id" = t."ProductImageFilesId"
WHERE f."Discriminator" = 'ProductImageFile'
2025-03-08 23:29:09.451 +04:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreateDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id", t."CreateDate", t."Name", t."Price", t."Stock", t."UpdateDate"
FROM "Files" AS f
INNER JOIN (
    SELECT p0."Id", p0."CreateDate", p0."Name", p0."Price", p0."Stock", p0."UpdateDate", p."ProductImageFilesId"
    FROM "ProductProductImageFile" AS p
    INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
) AS t ON f."Id" = t."ProductImageFilesId"
WHERE f."Discriminator" = 'ProductImageFile' AND t."Id" = @__Parse_0 AND f."Showcase"
LIMIT 1
2025-03-08 23:29:09.481 +04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'NewCommerce.Persistence.Context.NewCommerceDb'.
Npgsql.NpgsqlOperationInProgressException (0x80004005): A command is already in progress: SELECT f."Id", f."CreateDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id", t."CreateDate", t."Name", t."Price", t."Stock", t."UpdateDate"
FROM "Files" AS f
INNER JOIN (
    SELECT p0."Id", p0."CreateDate", p0."Name", p0."Price", p0."Stock", p0."UpdateDate", p."ProductImageFilesId"
    FROM "ProductProductImageFile" AS p
    INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
) AS t ON f."Id" = t."ProductImageFilesId"
WHERE f."Discriminator" = 'ProductImageFile'
   at Npgsql.ThrowHelper.ThrowNpgsqlOperationInProgressException(NpgsqlCommand command)
   at Npgsql.Internal.NpgsqlConnector.<StartUserAction>g__DoStartUserAction|279_0(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.Internal.NpgsqlConnector.StartUserAction(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Npgsql.NpgsqlOperationInProgressException (0x80004005): A command is already in progress: SELECT f."Id", f."CreateDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id", t."CreateDate", t."Name", t."Price", t."Stock", t."UpdateDate"
FROM "Files" AS f
INNER JOIN (
    SELECT p0."Id", p0."CreateDate", p0."Name", p0."Price", p0."Stock", p0."UpdateDate", p."ProductImageFilesId"
    FROM "ProductProductImageFile" AS p
    INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
) AS t ON f."Id" = t."ProductImageFilesId"
WHERE f."Discriminator" = 'ProductImageFile'
   at Npgsql.ThrowHelper.ThrowNpgsqlOperationInProgressException(NpgsqlCommand command)
   at Npgsql.Internal.NpgsqlConnector.<StartUserAction>g__DoStartUserAction|279_0(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.Internal.NpgsqlConnector.StartUserAction(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-03-08 23:29:09.625 +04:00 [INF] Executed action NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api) in 50105.0683ms
2025-03-08 23:29:09.628 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api)'
2025-03-08 23:29:09.681 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.NpgsqlOperationInProgressException (0x80004005): A command is already in progress: SELECT f."Id", f."CreateDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id", t."CreateDate", t."Name", t."Price", t."Stock", t."UpdateDate"
FROM "Files" AS f
INNER JOIN (
    SELECT p0."Id", p0."CreateDate", p0."Name", p0."Price", p0."Stock", p0."UpdateDate", p."ProductImageFilesId"
    FROM "ProductProductImageFile" AS p
    INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
) AS t ON f."Id" = t."ProductImageFilesId"
WHERE f."Discriminator" = 'ProductImageFile'
   at Npgsql.ThrowHelper.ThrowNpgsqlOperationInProgressException(NpgsqlCommand command)
   at Npgsql.Internal.NpgsqlConnector.<StartUserAction>g__DoStartUserAction|279_0(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.Internal.NpgsqlConnector.StartUserAction(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method140(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at NewCommerce.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandHandler.Handle(ChangeShowcaseImageCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\ProductImageFile\ChangeShowcaseImage\ChangeShowcaseImageCommandHandler.cs:line 30
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage(ChangeShowcaseImageCommandRequest changeShowcaseImageCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\ProductController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 131
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-08 23:29:18.706 +04:00 [ERR] A command is already in progress: SELECT f."Id", f."CreateDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id", t."CreateDate", t."Name", t."Price", t."Stock", t."UpdateDate"
FROM "Files" AS f
INNER JOIN (
    SELECT p0."Id", p0."CreateDate", p0."Name", p0."Price", p0."Stock", p0."UpdateDate", p."ProductImageFilesId"
    FROM "ProductProductImageFile" AS p
    INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
) AS t ON f."Id" = t."ProductImageFilesId"
WHERE f."Discriminator" = 'ProductImageFile'
2025-03-08 23:29:18.732 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Product/ChangeShowcaseImage?ImageId=6bd32324-bccc-4df8-a7b7-339b0b5d93e5&ProductId=1c5934c8-1af1-4192-a1bc-c35bb1e924e8 - 500 null application/json 59263.33ms
2025-03-08 23:45:39.038 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-08 23:45:39.431 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-08 23:45:39.432 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-08 23:45:39.481 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-08 23:45:39.487 +04:00 [INF] Hosting environment: Development
2025-03-08 23:45:39.487 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-08 23:45:40.058 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-08 23:45:40.359 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-08 23:45:40.370 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-08 23:45:40.371 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 283.8078ms
2025-03-08 23:45:40.391 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 32.4021ms
2025-03-08 23:45:40.432 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 62.2469ms
2025-03-08 23:45:41.260 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-08 23:45:41.322 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.8755ms
2025-03-08 23:47:40.998 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Product/ChangeShowcaseImage?ImageId=6bd32324-bccc-4df8-a7b7-339b0b5d93e5&ProductId=1c5934c8-1af1-4192-a1bc-c35bb1e924e8 - null null
2025-03-08 23:47:41.060 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api)'
2025-03-08 23:47:41.126 +04:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(NewCommerce.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandRequest) on controller NewCommerce.Api.Controllers.ProductController (NewCommerce.Api).
2025-03-08 23:48:06.713 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-08 23:48:15.098 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreateDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id", t."CreateDate", t."Name", t."Price", t."Stock", t."UpdateDate"
FROM "Files" AS f
INNER JOIN (
    SELECT p0."Id", p0."CreateDate", p0."Name", p0."Price", p0."Stock", p0."UpdateDate", p."ProductImageFilesId"
    FROM "ProductProductImageFile" AS p
    INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
) AS t ON f."Id" = t."ProductImageFilesId"
WHERE f."Discriminator" = 'ProductImageFile'
2025-03-09 00:31:45.833 +04:00 [INF] Executed action NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api) in 2644692.3259ms
2025-03-09 00:31:45.846 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api)'
2025-03-09 00:31:45.941 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The provider for the source IQueryable doesn't implement IDbAsyncQueryProvider. Only providers that implement IDbAsyncQueryProvider can be used for Entity Framework asynchronous operations. For more details see http://go.microsoft.com/fwlink/?LinkId=287068.
   at System.Data.Entity.QueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at System.Data.Entity.QueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate)
   at NewCommerce.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandHandler.Handle(ChangeShowcaseImageCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\ProductImageFile\ChangeShowcaseImage\ChangeShowcaseImageCommandHandler.cs:line 30
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage(ChangeShowcaseImageCommandRequest changeShowcaseImageCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\ProductController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 131
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-09 00:31:49.693 +04:00 [ERR] The provider for the source IQueryable doesn't implement IDbAsyncQueryProvider. Only providers that implement IDbAsyncQueryProvider can be used for Entity Framework asynchronous operations. For more details see http://go.microsoft.com/fwlink/?LinkId=287068.
2025-03-09 00:31:50.305 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Product/ChangeShowcaseImage?ImageId=6bd32324-bccc-4df8-a7b7-339b0b5d93e5&ProductId=1c5934c8-1af1-4192-a1bc-c35bb1e924e8 - 500 null application/json 2649306.1602ms
2025-03-09 00:36:41.511 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-09 00:36:41.876 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-09 00:36:41.880 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-09 00:36:41.984 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-09 00:36:41.985 +04:00 [INF] Hosting environment: Development
2025-03-09 00:36:41.985 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-09 00:36:42.644 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-09 00:36:42.905 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 263.2985ms
2025-03-09 00:36:42.917 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-09 00:36:42.918 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-09 00:36:42.984 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 67.3788ms
2025-03-09 00:36:43.031 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 113.9326ms
2025-03-09 00:36:43.496 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-09 00:36:43.541 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 45.2758ms
2025-03-09 00:37:17.396 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Product/ChangeShowcaseImage?ImageId=6bd32324-bccc-4df8-a7b7-339b0b5d93e5&ProductId=1c5934c8-1af1-4192-a1bc-c35bb1e924e8 - null null
2025-03-09 00:37:17.462 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api)'
2025-03-09 00:37:17.529 +04:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(NewCommerce.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandRequest) on controller NewCommerce.Api.Controllers.ProductController (NewCommerce.Api).
2025-03-09 00:38:00.767 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-09 00:38:02.207 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreateDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id", t."CreateDate", t."Name", t."Price", t."Stock", t."UpdateDate"
FROM "Files" AS f
INNER JOIN (
    SELECT p0."Id", p0."CreateDate", p0."Name", p0."Price", p0."Stock", p0."UpdateDate", p."ProductImageFilesId"
    FROM "ProductProductImageFile" AS p
    INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
) AS t ON f."Id" = t."ProductImageFilesId"
WHERE f."Discriminator" = 'ProductImageFile'
2025-03-09 00:38:24.431 +04:00 [INF] Executed DbCommand (36ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Files" SET "Showcase" = @p0
WHERE "Id" = @p1;
2025-03-09 00:38:24.498 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandResponse'.
2025-03-09 00:38:24.527 +04:00 [INF] Executed action NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api) in 66984.6846ms
2025-03-09 00:38:24.531 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api)'
2025-03-09 00:38:24.563 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Product/ChangeShowcaseImage?ImageId=6bd32324-bccc-4df8-a7b7-339b0b5d93e5&ProductId=1c5934c8-1af1-4192-a1bc-c35bb1e924e8 - 200 null application/json; charset=utf-8 67167.3813ms
2025-03-09 01:04:50.594 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-09 01:04:50.886 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-09 01:04:50.894 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-09 01:04:50.984 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-09 01:04:50.989 +04:00 [INF] Hosting environment: Development
2025-03-09 01:04:50.989 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-09 01:04:51.798 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-09 01:04:52.019 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 229.0889ms
2025-03-09 01:04:52.026 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-09 01:04:52.027 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-09 01:04:52.036 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 9.7642ms
2025-03-09 01:04:52.088 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 61.9801ms
2025-03-09 01:04:52.493 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-09 01:04:52.517 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.4494ms
2025-03-09 01:06:00.861 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Product/ChangeShowcaseImage?ImageId=6bd32324-bccc-4df8-a7b7-339b0b5d93e5&ProductId=1c5934c8-1af1-4192-a1bc-c35bb1e924e8 - null null
2025-03-09 01:06:00.893 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api)'
2025-03-09 01:06:00.924 +04:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(NewCommerce.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandRequest) on controller NewCommerce.Api.Controllers.ProductController (NewCommerce.Api).
2025-03-09 01:06:05.431 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-09 01:06:06.274 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreateDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id", t."CreateDate", t."Name", t."Price", t."Stock", t."UpdateDate"
FROM "Files" AS f
INNER JOIN (
    SELECT p0."Id", p0."CreateDate", p0."Name", p0."Price", p0."Stock", p0."UpdateDate", p."ProductImageFilesId"
    FROM "ProductProductImageFile" AS p
    INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
) AS t ON f."Id" = t."ProductImageFilesId"
WHERE f."Discriminator" = 'ProductImageFile'
2025-03-09 01:06:06.590 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandResponse'.
2025-03-09 01:06:06.609 +04:00 [INF] Executed action NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api) in 5674.0812ms
2025-03-09 01:06:06.614 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.ProductController.ChangeShowcaseImage (NewCommerce.Api)'
2025-03-09 01:06:06.643 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Product/ChangeShowcaseImage?ImageId=6bd32324-bccc-4df8-a7b7-339b0b5d93e5&ProductId=1c5934c8-1af1-4192-a1bc-c35bb1e924e8 - 200 null application/json; charset=utf-8 5782.6542ms
2025-03-11 12:42:10.598 +04:00 [WRN] The foreign key property 'Basket.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:42:10.642 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:42:22.930 +04:00 [WRN] The foreign key property 'Basket.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:42:22.949 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:42:23.120 +04:00 [WRN] The foreign key property 'Basket.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:42:23.120 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:42:37.213 +04:00 [WRN] The foreign key property 'Basket.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:42:37.230 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:42:37.467 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 12:42:37.483 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 12:42:37.558 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 12:42:37.625 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 12:42:37.626 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 12:42:37.643 +04:00 [INF] Applying migration '20250311084225_mig9'.
2025-03-11 12:42:37.721 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Baskets" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "UserId1" text,
    "CreateDate" timestamp with time zone NOT NULL,
    "UpdateDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Baskets" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Baskets_AspNetUsers_UserId1" FOREIGN KEY ("UserId1") REFERENCES "AspNetUsers" ("Id")
);
2025-03-11 12:42:37.728 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "basketItems" (
    "Id" uuid NOT NULL,
    "BasketId" uuid NOT NULL,
    "ProductId" uuid NOT NULL,
    "Quantity" integer NOT NULL,
    "CreateDate" timestamp with time zone NOT NULL,
    "UpdateDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_basketItems" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_basketItems_Baskets_BasketId" FOREIGN KEY ("BasketId") REFERENCES "Baskets" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_basketItems_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2025-03-11 12:42:37.731 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_basketItems_BasketId" ON "basketItems" ("BasketId");
2025-03-11 12:42:37.734 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_basketItems_ProductId" ON "basketItems" ("ProductId");
2025-03-11 12:42:37.737 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Baskets_UserId1" ON "Baskets" ("UserId1");
2025-03-11 12:42:37.739 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250311084225_mig9', '8.0.10');
2025-03-11 12:43:54.611 +04:00 [WRN] The foreign key property 'Basket.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:43:54.637 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:43:54.910 +04:00 [WRN] The foreign key property 'Basket.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:43:54.910 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:43:55.530 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 12:43:55.541 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 12:45:09.782 +04:00 [WRN] The foreign key property 'Basket.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:45:09.805 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:45:10.185 +04:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 12:45:10.220 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 12:45:10.304 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 12:45:10.392 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 12:45:10.396 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 12:45:10.434 +04:00 [INF] No migrations were applied. The database is already up to date.
2025-03-11 12:50:06.638 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:50:06.903 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 12:50:06.918 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 12:50:06.971 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 12:50:07.020 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 12:50:07.021 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 12:50:26.371 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:50:26.528 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:51:16.350 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:51:16.561 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:53:32.650 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:53:32.849 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:55:05.921 +04:00 [WRN] The foreign key property 'Basket.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:55:05.941 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:55:06.140 +04:00 [WRN] The foreign key property 'Basket.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:55:06.140 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:55:55.641 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:55:55.820 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:56:50.540 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 12:56:50.787 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 12:56:50.802 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 12:56:50.842 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 12:56:51.019 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 12:56:51.020 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 12:56:51.048 +04:00 [INF] Applying migration '20250311085556_mig9'.
2025-03-11 12:56:51.164 +04:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" DROP CONSTRAINT "FK_Baskets_AspNetUsers_UserId1";
2025-03-11 13:01:09.681 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 13:01:09.941 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 13:01:09.957 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 13:01:10.004 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 13:01:10.043 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 13:01:10.044 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 13:01:10.072 +04:00 [INF] No migrations were applied. The database is already up to date.
2025-03-11 13:02:26.531 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 13:02:26.780 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 13:02:26.792 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 13:02:26.832 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 13:02:26.871 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 13:02:26.872 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 13:02:26.911 +04:00 [INF] Applying migration '20250311085556_mig9'.
2025-03-11 13:02:26.993 +04:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" DROP CONSTRAINT "FK_Baskets_AspNetUsers_UserId1";
2025-03-11 13:06:25.440 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 13:06:25.636 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 13:06:26.079 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 13:06:26.090 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 13:07:08.124 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 13:07:08.365 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 13:07:08.378 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 13:07:08.425 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 13:07:08.489 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 13:07:08.490 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 13:07:08.512 +04:00 [INF] No migrations were applied. The database is already up to date.
2025-03-11 13:07:30.675 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 13:07:30.884 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 13:08:01.949 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 13:08:02.226 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 13:08:02.246 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 13:08:02.332 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 13:08:02.404 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 13:08:02.405 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 13:08:02.419 +04:00 [INF] Applying migration '20250311090731_mig9'.
2025-03-11 13:08:02.497 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Baskets" (
    "Id" uuid NOT NULL,
    "UserId" text NOT NULL,
    "CreateDate" timestamp with time zone NOT NULL,
    "UpdateDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Baskets" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Baskets_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-03-11 13:08:02.501 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BasketItems" (
    "Id" uuid NOT NULL,
    "BasketId" uuid NOT NULL,
    "ProductId" uuid NOT NULL,
    "Quantity" integer NOT NULL,
    "CreateDate" timestamp with time zone NOT NULL,
    "UpdateDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_BasketItems" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_BasketItems_Baskets_BasketId" FOREIGN KEY ("BasketId") REFERENCES "Baskets" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_BasketItems_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2025-03-11 13:08:02.503 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BasketItems_BasketId" ON "BasketItems" ("BasketId");
2025-03-11 13:08:02.505 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BasketItems_ProductId" ON "BasketItems" ("ProductId");
2025-03-11 13:08:02.507 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Baskets_UserId" ON "Baskets" ("UserId");
2025-03-11 13:08:02.507 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250311090731_mig9', '8.0.10');
2025-03-11 14:43:26.954 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 14:43:27.210 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 14:43:45.692 +04:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-11 14:43:45.939 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 14:43:45.956 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 14:43:46.024 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 14:43:46.176 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-11 14:43:46.177 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-11 14:43:46.195 +04:00 [INF] Applying migration '20250311104330_mig10'.
2025-03-11 14:43:46.279 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD "BasketId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2025-03-11 14:43:46.289 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD CONSTRAINT "FK_Orders_Baskets_Id" FOREIGN KEY ("Id") REFERENCES "Baskets" ("Id") ON DELETE CASCADE;
2025-03-11 14:43:46.290 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250311104330_mig10', '8.0.10');
2025-03-11 18:40:54.755 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-11 18:40:55.543 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-11 18:40:55.544 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-11 18:40:55.596 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-11 18:40:55.598 +04:00 [INF] Hosting environment: Development
2025-03-11 18:40:55.599 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-11 18:40:56.564 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-11 18:40:56.925 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 369.749ms
2025-03-11 18:40:56.938 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-11 18:40:56.938 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-11 18:40:56.952 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 14.4314ms
2025-03-11 18:40:57.025 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 87.3878ms
2025-03-11 18:40:57.586 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-11 18:40:57.635 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/favicon-32x32.png - null null
2025-03-11 18:40:57.639 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.8838ms
2025-03-11 18:40:57.649 +04:00 [INF] The file /favicon-32x32.png was not modified
2025-03-11 18:40:57.651 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/favicon-32x32.png - 304 null image/png 15.6081ms
2025-03-12 12:42:36.797 +04:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:42:36.924 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 12:42:36.962 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:42:36.998 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:42:37.000 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 12:42:37.010 +04:00 [INF] Applying migration '20250312084220_mig11'.
2025-03-12 12:42:37.072 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Customers_CustomerId1";
2025-03-12 12:42:37.074 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Orders_CustomerId1";
2025-03-12 12:42:37.076 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP COLUMN "CustomerId1";
2025-03-12 12:42:37.083 +04:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ALTER COLUMN "CustomerId" TYPE uuid;
2025-03-12 12:46:52.509 +04:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:46:52.573 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 12:47:18.526 +04:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:47:18.596 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 12:47:18.631 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:47:18.674 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:47:18.678 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 12:47:18.695 +04:00 [INF] Applying migration '20250312084709_mig11'.
2025-03-12 12:47:18.781 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Customers_CustomerId1";
2025-03-12 12:47:18.782 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Orders_CustomerId1";
2025-03-12 12:47:18.785 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP COLUMN "CustomerId1";
2025-03-12 12:47:18.802 +04:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ALTER COLUMN "CustomerId" TYPE uuid;
UPDATE "Orders" SET "CustomerId" = '00000000-0000-0000-0000-000000000000' WHERE "CustomerId" IS NULL;
ALTER TABLE "Orders" ALTER COLUMN "CustomerId" SET NOT NULL;
ALTER TABLE "Orders" ALTER COLUMN "CustomerId" SET DEFAULT '00000000-0000-0000-0000-000000000000';
2025-03-12 12:52:44.256 +04:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:52:44.325 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 12:52:44.369 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:52:44.425 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:52:44.429 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 12:52:44.447 +04:00 [INF] Applying migration '20250312084709_mig11'.
2025-03-12 12:52:44.512 +04:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Customers_CustomerId";
2025-03-12 12:55:07.140 +04:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:55:07.336 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 12:55:07.393 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:55:07.436 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:55:07.438 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 12:55:07.451 +04:00 [INF] Applying migration '20250312084709_mig11'.
2025-03-12 12:55:07.501 +04:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Customers_CustomerId";
2025-03-12 12:56:05.284 +04:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:56:05.359 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 12:56:05.406 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:56:05.452 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:56:05.454 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 12:56:05.467 +04:00 [INF] Applying migration '20250312084709_mig11'.
2025-03-12 12:56:05.521 +04:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Customers_CustomerId";
2025-03-12 12:58:17.006 +04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:58:17.080 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 12:58:17.116 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:58:17.149 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 12:58:17.151 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 12:58:17.166 +04:00 [INF] Applying migration '20250312084709_mig11'.
2025-03-12 12:58:17.209 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP COLUMN "CustomerId";
2025-03-12 12:58:17.210 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP COLUMN "CustomerId1";
2025-03-12 12:58:17.213 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250312084709_mig11', '8.0.10');
2025-03-12 13:02:46.140 +04:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 13:02:46.210 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 13:02:46.251 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 13:02:46.288 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 13:02:46.290 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 13:02:46.303 +04:00 [INF] Applying migration '20250312090237_mig12'.
2025-03-12 13:02:46.374 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "OrderProduct";
2025-03-12 13:02:46.375 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250312090237_mig12', '8.0.10');
2025-03-12 15:07:58.959 +04:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 15:07:59.105 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 15:07:59.183 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 15:07:59.254 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 15:07:59.260 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 15:07:59.283 +04:00 [INF] Applying migration '20250312110740_mig13'.
2025-03-12 15:07:59.386 +04:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Customers_CustomerId";
2025-03-12 15:12:15.938 +04:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 15:12:16.006 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 15:14:15.248 +04:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 15:14:15.328 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 15:14:15.393 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 15:14:15.451 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-12 15:14:15.454 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-12 15:14:15.472 +04:00 [INF] No migrations were applied. The database is already up to date.
2025-03-13 16:07:38.678 +04:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:07:38.782 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:07:38.826 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:07:38.868 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:07:38.870 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:07:38.882 +04:00 [INF] Applying migration '20250313120712_mig13'.
2025-03-13 16:07:38.960 +04:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Customers_CustomerId";
2025-03-13 16:18:24.448 +04:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:18:24.510 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:19:05.819 +04:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:19:05.889 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:19:05.926 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:19:05.963 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:19:05.965 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:19:05.977 +04:00 [INF] Applying migration '20250313121847_mig13'.
2025-03-13 16:19:06.028 +04:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Customers_CustomerId";
2025-03-13 16:24:25.051 +04:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:24:25.150 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:24:33.380 +04:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:24:33.447 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:24:33.483 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:24:33.519 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:24:33.521 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:24:33.535 +04:00 [INF] Reverting migration '20250312090237_mig12'.
2025-03-13 16:24:33.606 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "OrderProduct" (
    "OrdersId" uuid NOT NULL,
    "ProductsId" uuid NOT NULL,
    CONSTRAINT "PK_OrderProduct" PRIMARY KEY ("OrdersId", "ProductsId"),
    CONSTRAINT "FK_OrderProduct_Orders_OrdersId" FOREIGN KEY ("OrdersId") REFERENCES "Orders" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_OrderProduct_Products_ProductsId" FOREIGN KEY ("ProductsId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2025-03-13 16:24:33.608 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_OrderProduct_ProductsId" ON "OrderProduct" ("ProductsId");
2025-03-13 16:24:33.610 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsHistory"
WHERE "MigrationId" = '20250312090237_mig12';
2025-03-13 16:24:33.617 +04:00 [INF] Reverting migration '20250312084709_mig11'.
2025-03-13 16:24:33.644 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD "CustomerId" uuid NOT NULL DEFAULT '8928889b-5f1c-4e5a-8174-1950883c35be';
2025-03-13 16:24:33.645 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD "CustomerId1" uuid NOT NULL DEFAULT '4db84cad-5e63-48e0-9e63-4bbd7a681125';
2025-03-13 16:24:33.646 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsHistory"
WHERE "MigrationId" = '20250312084709_mig11';
2025-03-13 16:24:33.646 +04:00 [INF] Reverting migration '20250311104330_mig10'.
2025-03-13 16:24:33.673 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Baskets_Id";
2025-03-13 16:24:33.678 +04:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP COLUMN "BasketId";
2025-03-13 16:26:58.119 +04:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:26:58.189 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:26:58.363 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:26:58.403 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:26:58.405 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:26:58.415 +04:00 [INF] Applying migration '20250312084709_mig11'.
2025-03-13 16:26:58.471 +04:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP COLUMN "CustomerId";
2025-03-13 16:29:48.419 +04:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:29:48.489 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:29:48.663 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:29:48.719 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:29:48.722 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:29:48.733 +04:00 [INF] Applying migration '20250312084709_mig11'.
2025-03-13 16:29:48.786 +04:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP COLUMN "CustomerId";
2025-03-13 16:30:32.325 +04:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:30:32.390 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:30:32.428 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:30:32.468 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:30:32.470 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:30:32.483 +04:00 [INF] Applying migration '20250312084709_mig11'.
2025-03-13 16:30:32.539 +04:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP COLUMN "CustomerId";
2025-03-13 16:30:42.733 +04:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:30:42.821 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:30:42.859 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:30:42.897 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:30:42.899 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:30:42.913 +04:00 [INF] Applying migration '20250312084709_mig11'.
2025-03-13 16:30:42.962 +04:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP COLUMN "CustomerId";
2025-03-13 16:32:03.225 +04:00 [INF] Executed DbCommand (357ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "NewCommerce";
2025-03-13 16:32:03.385 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-03-13 16:32:03.430 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:32:03.434 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:32:03.448 +04:00 [INF] Applying migration '20250313123153_mig1'.
2025-03-13 16:32:03.511 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" text NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2025-03-13 16:32:03.515 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" text NOT NULL,
    "NameSurname" text,
    "RefreshToken" text,
    "RefreshTokenEndDate" timestamp with time zone NOT NULL,
    "UserName" character varying(256),
    "NormalizedUserName" character varying(256),
    "Email" character varying(256),
    "NormalizedEmail" character varying(256),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
);
2025-03-13 16:32:03.518 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Customers" (
    "Id" uuid NOT NULL,
    "Name" text,
    "SurName" text NOT NULL,
    "CreateDate" timestamp with time zone NOT NULL,
    "UpdateDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Customers" PRIMARY KEY ("Id")
);
2025-03-13 16:32:03.523 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Files" (
    "Id" uuid NOT NULL,
    "FileName" text NOT NULL,
    "Path" text NOT NULL,
    "Storage" text NOT NULL,
    "Discriminator" character varying(21) NOT NULL,
    "Price" numeric,
    "Showcase" boolean,
    "CreateDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Files" PRIMARY KEY ("Id")
);
2025-03-13 16:32:03.527 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Products" (
    "Id" uuid NOT NULL,
    "Name" text,
    "Stock" integer NOT NULL,
    "Price" real NOT NULL,
    "CreateDate" timestamp with time zone NOT NULL,
    "UpdateDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Products" PRIMARY KEY ("Id")
);
2025-03-13 16:32:03.535 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2025-03-13 16:32:03.540 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-03-13 16:32:03.545 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" text NOT NULL,
    "ProviderKey" text NOT NULL,
    "ProviderDisplayName" text,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-03-13 16:32:03.550 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" text NOT NULL,
    "RoleId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-03-13 16:32:03.554 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" text NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-03-13 16:32:03.559 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Baskets" (
    "Id" uuid NOT NULL,
    "UserId" text NOT NULL,
    "CreateDate" timestamp with time zone NOT NULL,
    "UpdateDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Baskets" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Baskets_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-03-13 16:32:03.563 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ProductProductImageFile" (
    "ProductImageFilesId" uuid NOT NULL,
    "ProductsId" uuid NOT NULL,
    CONSTRAINT "PK_ProductProductImageFile" PRIMARY KEY ("ProductImageFilesId", "ProductsId"),
    CONSTRAINT "FK_ProductProductImageFile_Files_ProductImageFilesId" FOREIGN KEY ("ProductImageFilesId") REFERENCES "Files" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ProductProductImageFile_Products_ProductsId" FOREIGN KEY ("ProductsId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2025-03-13 16:32:03.566 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BasketItems" (
    "Id" uuid NOT NULL,
    "BasketId" uuid NOT NULL,
    "ProductId" uuid NOT NULL,
    "Quantity" integer NOT NULL,
    "CreateDate" timestamp with time zone NOT NULL,
    "UpdateDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_BasketItems" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_BasketItems_Baskets_BasketId" FOREIGN KEY ("BasketId") REFERENCES "Baskets" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_BasketItems_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2025-03-13 16:32:03.571 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Orders" (
    "Id" uuid NOT NULL,
    "Description" text,
    "Address" text,
    "OrderCode" text,
    "CreateDate" timestamp with time zone NOT NULL,
    "UpdateDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Orders" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Orders_Baskets_Id" FOREIGN KEY ("Id") REFERENCES "Baskets" ("Id") ON DELETE CASCADE
);
2025-03-13 16:32:03.814 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2025-03-13 16:32:03.816 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2025-03-13 16:32:03.819 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2025-03-13 16:32:03.821 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2025-03-13 16:32:03.823 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2025-03-13 16:32:03.826 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2025-03-13 16:32:03.828 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2025-03-13 16:32:03.830 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BasketItems_BasketId" ON "BasketItems" ("BasketId");
2025-03-13 16:32:03.832 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BasketItems_ProductId" ON "BasketItems" ("ProductId");
2025-03-13 16:32:03.834 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Baskets_UserId" ON "Baskets" ("UserId");
2025-03-13 16:32:03.836 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ProductProductImageFile_ProductsId" ON "ProductProductImageFile" ("ProductsId");
2025-03-13 16:32:03.837 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250313123153_mig1', '8.0.10');
2025-03-13 16:37:39.319 +04:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:37:39.384 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:37:39.418 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:37:39.457 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-13 16:37:39.459 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-13 16:37:39.469 +04:00 [INF] Applying migration '20250313123732_mig2'.
2025-03-13 16:37:39.523 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Orders_OrderCode" ON "Orders" ("OrderCode");
2025-03-13 16:37:39.524 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250313123732_mig2', '8.0.10');
2025-03-15 11:59:30.200 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-15 11:59:30.504 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-15 11:59:30.505 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-15 11:59:30.571 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-15 11:59:30.572 +04:00 [INF] Hosting environment: Development
2025-03-15 11:59:30.573 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-15 11:59:31.191 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-15 11:59:31.441 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 258.1602ms
2025-03-15 11:59:31.454 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-15 11:59:31.463 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 9.5935ms
2025-03-15 11:59:31.468 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-15 11:59:31.534 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.2212ms
2025-03-15 11:59:32.112 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-15 11:59:32.170 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.4537ms
2025-03-15 23:15:21.281 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-15 23:15:21.542 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-15 23:15:21.543 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-15 23:15:21.590 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-15 23:15:21.591 +04:00 [INF] Hosting environment: Development
2025-03-15 23:15:21.592 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-15 23:15:22.419 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-15 23:15:22.682 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 269.4024ms
2025-03-15 23:15:22.690 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-15 23:15:22.704 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 14.3078ms
2025-03-15 23:15:22.705 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-15 23:15:22.788 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 82.9478ms
2025-03-15 23:15:23.204 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-15 23:15:23.237 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.8822ms
2025-03-15 23:51:35.041 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-15 23:51:35.396 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-15 23:51:35.401 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-15 23:51:35.467 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-15 23:51:35.468 +04:00 [INF] Hosting environment: Development
2025-03-15 23:51:35.470 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-15 23:51:36.085 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-15 23:51:36.356 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 272.3427ms
2025-03-15 23:51:36.369 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-15 23:51:36.402 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 32.8166ms
2025-03-15 23:51:36.414 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-15 23:51:36.473 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.7511ms
2025-03-15 23:51:37.322 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-15 23:51:37.350 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.5986ms
2025-03-15 23:52:24.703 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-15 23:52:24.768 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-15 23:52:24.810 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-15 23:52:25.108 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api) in 287.6837ms
2025-03-15 23:52:25.116 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-15 23:52:25.176 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'address')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.ArgumentException.ThrowNullOrEmptyException(String argument, String paramName)
   at System.ArgumentException.ThrowIfNullOrEmpty(String argument, String paramName)
   at System.Net.Mail.MailAddress.TryParse(String address, String displayName, Encoding displayNameEncoding, ValueTuple`4& parsedData, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddress..ctor(String address, String displayName, Encoding displayNameEncoding)
   at NewCommerce.Infrastructure.Services.MailService.SendMessageAsync(String[] tos, String subject, String body, Boolean isBodyHtml) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Infrastructure\Services\MailService.cs:line 34
   at NewCommerce.Infrastructure.Services.MailService.SendMessageAsync(String to, String subject, String body, Boolean isBodyHtml) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Infrastructure\Services\MailService.cs:line 23
   at NewCommerce.Api.Controllers.AuthController.ExampleMailTest() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-15 23:52:25.270 +04:00 [ERR] Value cannot be null. (Parameter 'address')
2025-03-15 23:52:25.286 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Auth - 500 null application/json 583.5491ms
2025-03-15 23:52:39.080 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-15 23:52:39.085 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-15 23:52:39.099 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-15 23:53:09.527 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api) in 30423.4908ms
2025-03-15 23:53:09.532 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-15 23:53:09.572 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'address')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.ArgumentException.ThrowNullOrEmptyException(String argument, String paramName)
   at System.ArgumentException.ThrowIfNullOrEmpty(String argument, String paramName)
   at System.Net.Mail.MailAddress.TryParse(String address, String displayName, Encoding displayNameEncoding, ValueTuple`4& parsedData, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddress..ctor(String address, String displayName, Encoding displayNameEncoding)
   at NewCommerce.Infrastructure.Services.MailService.SendMessageAsync(String[] tos, String subject, String body, Boolean isBodyHtml) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Infrastructure\Services\MailService.cs:line 34
   at NewCommerce.Infrastructure.Services.MailService.SendMessageAsync(String to, String subject, String body, Boolean isBodyHtml) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Infrastructure\Services\MailService.cs:line 23
   at NewCommerce.Api.Controllers.AuthController.ExampleMailTest() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-15 23:53:21.559 +04:00 [ERR] Value cannot be null. (Parameter 'address')
2025-03-15 23:53:21.567 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Auth - 500 null application/json 42487.4591ms
2025-03-15 23:53:28.156 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-15 23:53:28.167 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-15 23:53:28.171 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-15 23:54:28.285 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-15 23:54:28.564 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-15 23:54:28.566 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-15 23:54:28.632 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-15 23:54:28.634 +04:00 [INF] Hosting environment: Development
2025-03-15 23:54:28.635 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-15 23:54:29.378 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-15 23:54:29.608 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 234.9637ms
2025-03-15 23:54:29.676 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-15 23:54:29.676 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-15 23:54:29.714 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 38.7987ms
2025-03-15 23:54:29.747 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.9161ms
2025-03-15 23:54:30.229 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-15 23:54:30.261 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.0283ms
2025-03-15 23:54:38.260 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-15 23:54:38.333 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-15 23:54:38.402 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-15 23:55:04.306 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api) in 25889.1111ms
2025-03-15 23:55:04.320 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-15 23:55:04.432 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'address')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.ArgumentException.ThrowNullOrEmptyException(String argument, String paramName)
   at System.ArgumentException.ThrowIfNullOrEmpty(String argument, String paramName)
   at System.Net.Mail.MailAddress.TryParse(String address, String displayName, Encoding displayNameEncoding, ValueTuple`4& parsedData, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddress..ctor(String address, String displayName, Encoding displayNameEncoding)
   at NewCommerce.Infrastructure.Services.MailService.SendMessageAsync(String[] tos, String subject, String body, Boolean isBodyHtml) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Infrastructure\Services\MailService.cs:line 34
   at NewCommerce.Infrastructure.Services.MailService.SendMessageAsync(String to, String subject, String body, Boolean isBodyHtml) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Infrastructure\Services\MailService.cs:line 23
   at NewCommerce.Api.Controllers.AuthController.ExampleMailTest() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-15 23:55:08.021 +04:00 [ERR] Value cannot be null. (Parameter 'address')
2025-03-15 23:55:09.700 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Auth - 500 null application/json 31440.8683ms
2025-03-16 00:03:07.509 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 00:03:07.774 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 00:03:07.776 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 00:03:07.859 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 00:03:07.861 +04:00 [INF] Hosting environment: Development
2025-03-16 00:03:07.861 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 00:03:08.347 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 00:03:08.605 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 261.5629ms
2025-03-16 00:03:08.621 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 00:03:08.633 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 12.4007ms
2025-03-16 00:03:08.640 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 00:03:08.688 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.0206ms
2025-03-16 00:03:09.243 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 00:03:09.302 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.4211ms
2025-03-16 00:03:16.315 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-16 00:03:16.371 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:03:16.420 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 00:04:04.317 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 00:04:04.614 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 00:04:04.615 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 00:04:04.689 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 00:04:04.692 +04:00 [INF] Hosting environment: Development
2025-03-16 00:04:04.693 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 00:04:05.089 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 00:04:05.403 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 317.3321ms
2025-03-16 00:04:05.459 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 00:04:05.459 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 00:04:05.474 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 15.827ms
2025-03-16 00:04:05.513 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.4337ms
2025-03-16 00:04:05.907 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 00:04:05.940 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.0011ms
2025-03-16 00:05:45.775 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-16 00:05:45.830 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:05:45.881 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 00:06:25.030 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 00:06:25.364 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 00:06:25.367 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 00:06:25.437 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 00:06:25.438 +04:00 [INF] Hosting environment: Development
2025-03-16 00:06:25.439 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 00:06:26.164 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 00:06:26.340 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 182.6857ms
2025-03-16 00:06:26.346 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 00:06:26.357 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 10.5605ms
2025-03-16 00:06:26.362 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 00:06:26.406 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.1331ms
2025-03-16 00:06:26.845 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 00:06:26.888 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.6711ms
2025-03-16 00:06:32.570 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-16 00:06:32.616 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:06:32.674 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 00:06:36.272 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api) in 3582.3413ms
2025-03-16 00:06:36.277 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:06:36.307 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'address')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.ArgumentException.ThrowNullOrEmptyException(String argument, String paramName)
   at System.ArgumentException.ThrowIfNullOrEmpty(String argument, String paramName)
   at System.Net.Mail.MailAddress.TryParse(String address, String displayName, Encoding displayNameEncoding, ValueTuple`4& parsedData, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddress..ctor(String address, String displayName, Encoding displayNameEncoding)
   at NewCommerce.Infrastructure.Services.MailService.SendMessageAsync(String[] tos, String subject, String body, Boolean isBodyHtml) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Infrastructure\Services\MailService.cs:line 34
   at NewCommerce.Infrastructure.Services.MailService.SendMessageAsync(String to, String subject, String body, Boolean isBodyHtml) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Infrastructure\Services\MailService.cs:line 23
   at NewCommerce.Api.Controllers.AuthController.ExampleMailTest() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 00:06:36.382 +04:00 [ERR] Value cannot be null. (Parameter 'address')
2025-03-16 00:06:36.398 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Auth - 500 null application/json 3827.5227ms
2025-03-16 00:06:56.901 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-16 00:06:56.911 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:06:56.913 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 00:07:47.748 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 00:07:48.003 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 00:07:48.004 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 00:07:48.070 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 00:07:48.071 +04:00 [INF] Hosting environment: Development
2025-03-16 00:07:48.072 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 00:07:48.564 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 00:07:48.862 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 300.5469ms
2025-03-16 00:07:48.871 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 00:07:48.882 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 11.5614ms
2025-03-16 00:07:48.891 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 00:07:48.937 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.9811ms
2025-03-16 00:07:49.490 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 00:07:49.552 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.4871ms
2025-03-16 00:07:56.567 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-16 00:07:56.614 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:07:56.670 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 00:08:05.899 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api) in 9213.5021ms
2025-03-16 00:08:05.905 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:08:05.948 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'address')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.ArgumentException.ThrowNullOrEmptyException(String argument, String paramName)
   at System.ArgumentException.ThrowIfNullOrEmpty(String argument, String paramName)
   at System.Net.Mail.MailAddress.TryParse(String address, String displayName, Encoding displayNameEncoding, ValueTuple`4& parsedData, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddress..ctor(String address, String displayName, Encoding displayNameEncoding)
   at NewCommerce.Infrastructure.Services.MailService.SendMessageAsync(String[] tos, String subject, String body, Boolean isBodyHtml) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Infrastructure\Services\MailService.cs:line 34
   at NewCommerce.Infrastructure.Services.MailService.SendMessageAsync(String to, String subject, String body, Boolean isBodyHtml) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Infrastructure\Services\MailService.cs:line 23
   at NewCommerce.Api.Controllers.AuthController.ExampleMailTest() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 00:08:06.035 +04:00 [ERR] Value cannot be null. (Parameter 'address')
2025-03-16 00:08:06.052 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Auth - 500 null application/json 9485.0923ms
2025-03-16 00:08:11.413 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-16 00:08:11.427 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:08:11.431 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 00:08:39.108 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 00:08:39.358 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 00:08:39.359 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 00:08:39.422 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 00:08:39.424 +04:00 [INF] Hosting environment: Development
2025-03-16 00:08:39.425 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 00:08:40.302 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 00:08:40.565 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 265.501ms
2025-03-16 00:08:40.588 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 00:08:40.604 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 16.0193ms
2025-03-16 00:08:40.605 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 00:08:40.656 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.4268ms
2025-03-16 00:08:41.112 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 00:08:41.160 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 48.0243ms
2025-03-16 00:08:46.106 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-16 00:08:46.171 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:08:46.223 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 00:09:26.943 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api) in 40704.0163ms
2025-03-16 00:09:26.951 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:09:27.000 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.ArgumentException.ThrowNullOrEmptyException(String argument, String paramName)
   at System.ArgumentException.ThrowIfNullOrEmpty(String argument, String paramName)
   at System.Net.Mail.SmtpClient.set_Host(String value)
   at NewCommerce.Infrastructure.Services.MailService.SendMessageAsync(String[] tos, String subject, String body, Boolean isBodyHtml) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Infrastructure\Services\MailService.cs:line 40
   at NewCommerce.Infrastructure.Services.MailService.SendMessageAsync(String to, String subject, String body, Boolean isBodyHtml) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Infrastructure\Services\MailService.cs:line 23
   at NewCommerce.Api.Controllers.AuthController.ExampleMailTest() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 00:09:27.108 +04:00 [ERR] Value cannot be null. (Parameter 'value')
2025-03-16 00:09:27.125 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Auth - 500 null application/json 41019.8821ms
2025-03-16 00:11:38.737 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 00:11:38.987 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 00:11:38.988 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 00:11:39.152 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 00:11:39.153 +04:00 [INF] Hosting environment: Development
2025-03-16 00:11:39.154 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 00:11:39.412 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 00:11:39.678 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 270.4378ms
2025-03-16 00:11:39.717 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 00:11:39.717 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 00:11:39.726 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 8.9497ms
2025-03-16 00:11:39.762 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.494ms
2025-03-16 00:11:40.345 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 00:11:40.375 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.9066ms
2025-03-16 00:11:45.409 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-16 00:11:45.467 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:11:45.519 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 00:13:49.185 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 00:13:49.471 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 00:13:49.473 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 00:13:49.542 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 00:13:49.549 +04:00 [INF] Hosting environment: Development
2025-03-16 00:13:49.550 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 00:13:50.147 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 00:13:50.509 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 367.2163ms
2025-03-16 00:13:50.557 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 00:13:50.557 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 00:13:50.568 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 11.7532ms
2025-03-16 00:13:50.607 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.2719ms
2025-03-16 00:13:50.999 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 00:13:51.027 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.3096ms
2025-03-16 00:13:56.011 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-16 00:13:56.072 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:13:56.145 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 00:16:24.683 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 00:16:25.030 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 00:16:25.032 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 00:16:25.153 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 00:16:25.154 +04:00 [INF] Hosting environment: Development
2025-03-16 00:16:25.155 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 00:16:25.376 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 00:16:25.665 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 291.0813ms
2025-03-16 00:16:25.715 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 00:16:25.715 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 00:16:25.726 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 11.8977ms
2025-03-16 00:16:25.772 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.6741ms
2025-03-16 00:16:26.130 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 00:16:26.157 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.6547ms
2025-03-16 00:16:32.919 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-16 00:16:32.989 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:16:33.059 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 00:16:39.221 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api) in 6149.7301ms
2025-03-16 00:16:39.226 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:16:39.417 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)
   at System.Net.Sockets.TcpClient.EndConnect(IAsyncResult asyncResult)
   at System.Net.Mail.SmtpConnection.ConnectAndHandshakeAsyncResult.InitializeConnectionCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at NewCommerce.Infrastructure.Services.MailService.SendMessageAsync(String[] tos, String subject, String body, Boolean isBodyHtml) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Infrastructure\Services\MailService.cs:line 43
   at NewCommerce.Infrastructure.Services.MailService.SendMessageAsync(String to, String subject, String body, Boolean isBodyHtml) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Infrastructure\Services\MailService.cs:line 23
   at NewCommerce.Api.Controllers.AuthController.ExampleMailTest() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 00:16:45.852 +04:00 [ERR] Failure sending mail.
2025-03-16 00:16:46.879 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Auth - 500 null application/json 13960.7273ms
2025-03-16 00:16:51.694 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-16 00:16:54.692 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:16:54.697 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 00:18:55.787 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 00:18:56.165 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 00:18:56.168 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 00:18:56.279 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 00:18:56.281 +04:00 [INF] Hosting environment: Development
2025-03-16 00:18:56.288 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 00:18:56.894 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 00:18:57.205 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 00:18:57.205 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 317.1689ms
2025-03-16 00:18:57.226 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 22.1684ms
2025-03-16 00:18:57.244 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 00:18:57.294 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.229ms
2025-03-16 00:18:57.765 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 00:18:57.810 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 45.5793ms
2025-03-16 00:19:07.428 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-16 00:19:07.480 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:19:07.536 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 00:19:46.418 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-16 00:19:46.431 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api) in 38880.9416ms
2025-03-16 00:19:46.438 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:19:46.448 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Auth - 200 0 null 39020.7326ms
2025-03-16 00:19:50.063 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-16 00:19:50.074 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:19:50.078 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 00:20:00.509 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-16 00:20:00.511 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api) in 10425.5457ms
2025-03-16 00:20:00.514 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:20:00.519 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Auth - 200 0 null 10456.3754ms
2025-03-16 00:20:02.553 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-16 00:20:02.565 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:20:02.569 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 00:21:07.766 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 00:21:08.049 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 00:21:08.052 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 00:21:08.113 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 00:21:08.124 +04:00 [INF] Hosting environment: Development
2025-03-16 00:21:08.142 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 00:21:08.514 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 00:21:08.820 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 316.0808ms
2025-03-16 00:21:08.837 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 00:21:08.856 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 19.7308ms
2025-03-16 00:21:08.862 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 00:21:08.909 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.7073ms
2025-03-16 00:21:09.368 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 00:21:09.418 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.3655ms
2025-03-16 00:21:16.456 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-16 00:21:16.503 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:21:16.553 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 00:21:35.886 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-16 00:21:35.896 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api) in 19333.4818ms
2025-03-16 00:21:35.901 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:21:36.939 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Auth - 200 0 null 20483.8524ms
2025-03-16 00:33:26.117 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 00:33:26.577 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 00:33:26.580 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 00:33:26.700 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 00:33:26.702 +04:00 [INF] Hosting environment: Development
2025-03-16 00:33:26.704 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 00:33:26.958 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 00:33:27.203 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 249.4054ms
2025-03-16 00:33:27.230 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 00:33:27.251 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 21.1205ms
2025-03-16 00:33:27.259 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 00:33:27.314 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.8036ms
2025-03-16 00:33:27.661 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 00:33:27.700 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 38.2064ms
2025-03-16 00:33:47.171 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-16 00:33:47.221 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:33:47.269 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 00:38:51.864 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 00:38:52.161 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 00:38:52.163 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 00:38:52.250 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 00:38:52.254 +04:00 [INF] Hosting environment: Development
2025-03-16 00:38:52.255 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 00:38:52.562 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 00:38:52.847 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 290.4979ms
2025-03-16 00:38:52.888 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 00:38:52.888 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 00:38:52.899 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 11.3093ms
2025-03-16 00:38:52.947 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 59.1593ms
2025-03-16 00:38:53.400 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 00:38:53.437 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.6646ms
2025-03-16 00:39:00.910 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-16 00:39:00.965 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:39:01.013 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 00:40:22.853 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 00:40:23.195 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 00:40:23.196 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 00:40:23.260 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 00:40:23.262 +04:00 [INF] Hosting environment: Development
2025-03-16 00:40:23.264 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 00:40:23.996 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 00:40:24.324 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 335.8143ms
2025-03-16 00:40:24.395 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 00:40:24.395 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 00:40:24.419 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 23.6225ms
2025-03-16 00:40:24.466 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.618ms
2025-03-16 00:40:24.926 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 00:40:24.971 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 46.1704ms
2025-03-16 00:40:31.836 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/api/Auth - null null
2025-03-16 00:40:31.892 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:40:31.956 +04:00 [INF] Route matched with {action = "ExampleMailTest", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMailTest() on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 00:40:34.350 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-16 00:40:34.364 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api) in 2394.8738ms
2025-03-16 00:40:34.371 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.ExampleMailTest (NewCommerce.Api)'
2025-03-16 00:40:34.387 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/api/Auth - 200 0 null 2551.6941ms
2025-03-16 13:15:52.668 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 13:15:53.104 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 13:15:53.105 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 13:15:53.174 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 13:15:53.175 +04:00 [INF] Hosting environment: Development
2025-03-16 13:15:53.175 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 13:15:53.912 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 13:15:54.233 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 326.2767ms
2025-03-16 13:15:54.280 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 13:15:54.280 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 13:15:54.292 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 12.0616ms
2025-03-16 13:15:54.362 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 82.6168ms
2025-03-16 13:15:54.991 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 13:15:55.076 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.0881ms
2025-03-16 13:19:09.151 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 57
2025-03-16 13:19:09.179 +04:00 [INF] CORS policy execution successful.
2025-03-16 13:19:09.207 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 13:19:09.256 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 13:19:12.893 +04:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 13:19:12.951 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 13:19:13.233 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 3966.5911ms
2025-03-16 13:19:13.238 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 13:19:13.395 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı.
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 128
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 13:19:13.750 +04:00 [ERR] Kullanıcı adı veya şifre hatalı.
2025-03-16 13:19:13.775 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 4625.4372ms
2025-03-16 13:19:28.381 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 67
2025-03-16 13:19:28.393 +04:00 [INF] CORS policy execution successful.
2025-03-16 13:19:28.396 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 13:19:28.399 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 13:19:28.538 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 13:19:28.551 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 13:19:28.741 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 339.4257ms
2025-03-16 13:19:28.744 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 13:19:28.850 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı.
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 128
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 13:19:28.861 +04:00 [ERR] Kullanıcı adı veya şifre hatalı.
2025-03-16 13:19:28.864 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 483.2868ms
2025-03-16 13:22:00.665 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 69
2025-03-16 13:22:00.675 +04:00 [INF] CORS policy execution successful.
2025-03-16 13:22:00.683 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 13:22:00.685 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 13:22:00.814 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 13:22:00.821 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 13:22:01.006 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 317.1936ms
2025-03-16 13:22:01.008 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 13:22:01.133 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı.
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 128
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 13:22:01.151 +04:00 [ERR] Kullanıcı adı veya şifre hatalı.
2025-03-16 13:22:01.153 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 488.7434ms
2025-03-16 13:23:02.105 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Users - application/json 129
2025-03-16 13:23:02.123 +04:00 [INF] CORS policy execution successful.
2025-03-16 13:23:02.124 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.UsersController.CreateUser (NewCommerce.Api)'
2025-03-16 13:23:02.137 +04:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(NewCommerce.Application.Features.Commands.AppUser.CreateUser.CreateUserCommandRequest) on controller NewCommerce.Api.Controllers.UsersController (NewCommerce.Api).
2025-03-16 13:23:29.527 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 13:23:29.898 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?' (DbType = Boolean), @p17='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NameSurname", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenEndDate", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-03-16 13:23:29.939 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.CreateUser.CreateUserCommandResponse'.
2025-03-16 13:23:29.947 +04:00 [INF] Executed action NewCommerce.Api.Controllers.UsersController.CreateUser (NewCommerce.Api) in 27806.2301ms
2025-03-16 13:23:29.949 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.UsersController.CreateUser (NewCommerce.Api)'
2025-03-16 13:23:29.966 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Users - 200 null application/json; charset=utf-8 27860.6034ms
2025-03-16 13:23:58.089 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 57
2025-03-16 13:23:58.092 +04:00 [INF] CORS policy execution successful.
2025-03-16 13:23:58.093 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 13:23:58.094 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 13:23:58.105 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 13:24:00.186 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 13:24:00.217 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-16 13:24:00.224 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-16 13:24:00.238 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 2141.6219ms
2025-03-16 13:24:00.242 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 13:24:00.244 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 200 null application/json; charset=utf-8 2154.5922ms
2025-03-16 13:24:22.720 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/password-reset - application/json 23
2025-03-16 13:24:22.723 +04:00 [INF] CORS policy execution successful.
2025-03-16 13:24:22.726 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 13:24:22.732 +04:00 [INF] Route matched with {action = "PasswordReset", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PasswordReset(NewCommerce.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 13:24:23.819 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api) in 1081.1558ms
2025-03-16 13:24:23.822 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 13:24:23.857 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The provider for the source IQueryable doesn't implement IDbAsyncQueryProvider. Only providers that implement IDbAsyncQueryProvider can be used for Entity Framework asynchronous operations. For more details see http://go.microsoft.com/fwlink/?LinkId=287068.
   at System.Data.Entity.QueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at System.Data.Entity.QueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate)
   at NewCommerce.Persistence.Services.AuthService.PaswordResetAsync(String email) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 159
   at NewCommerce.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandHandler.Handle(PasswordResetCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\PasswordReset\PasswordResetCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.PasswordReset(PasswordResetCommandRequest passwordResetCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 62
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 13:24:23.892 +04:00 [ERR] The provider for the source IQueryable doesn't implement IDbAsyncQueryProvider. Only providers that implement IDbAsyncQueryProvider can be used for Entity Framework asynchronous operations. For more details see http://go.microsoft.com/fwlink/?LinkId=287068.
2025-03-16 13:24:23.894 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/password-reset - 500 null application/json 1174.8282ms
2025-03-16 13:25:48.494 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 13:25:48.753 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 13:25:48.753 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 13:25:48.800 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 13:25:48.801 +04:00 [INF] Hosting environment: Development
2025-03-16 13:25:48.801 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 13:25:49.557 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 13:25:49.765 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 213.9113ms
2025-03-16 13:25:49.774 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 13:25:49.792 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 17.0637ms
2025-03-16 13:25:49.792 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 13:25:49.842 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.3594ms
2025-03-16 13:25:50.224 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 13:25:50.257 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.1812ms
2025-03-16 13:26:25.961 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/password-reset - application/json 23
2025-03-16 13:26:25.999 +04:00 [INF] CORS policy execution successful.
2025-03-16 13:26:26.031 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 13:26:26.079 +04:00 [INF] Route matched with {action = "PasswordReset", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PasswordReset(NewCommerce.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 13:26:28.624 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api) in 2532.4593ms
2025-03-16 13:26:28.629 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 13:26:28.673 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The provider for the source IQueryable doesn't implement IDbAsyncQueryProvider. Only providers that implement IDbAsyncQueryProvider can be used for Entity Framework asynchronous operations. For more details see http://go.microsoft.com/fwlink/?LinkId=287068.
   at System.Data.Entity.QueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at System.Data.Entity.QueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate)
   at NewCommerce.Persistence.Services.AuthService.PaswordResetAsync(String email) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 159
   at NewCommerce.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandHandler.Handle(PasswordResetCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\PasswordReset\PasswordResetCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.PasswordReset(PasswordResetCommandRequest passwordResetCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 62
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 13:26:28.767 +04:00 [ERR] The provider for the source IQueryable doesn't implement IDbAsyncQueryProvider. Only providers that implement IDbAsyncQueryProvider can be used for Entity Framework asynchronous operations. For more details see http://go.microsoft.com/fwlink/?LinkId=287068.
2025-03-16 13:26:28.792 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/password-reset - 500 null application/json 2832.4318ms
2025-03-16 13:26:42.306 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/password-reset - application/json 23
2025-03-16 13:26:42.318 +04:00 [INF] CORS policy execution successful.
2025-03-16 13:26:42.323 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 13:26:42.325 +04:00 [INF] Route matched with {action = "PasswordReset", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PasswordReset(NewCommerce.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 13:26:59.632 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api) in 17305.1024ms
2025-03-16 13:26:59.636 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 13:26:59.682 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The provider for the source IQueryable doesn't implement IDbAsyncQueryProvider. Only providers that implement IDbAsyncQueryProvider can be used for Entity Framework asynchronous operations. For more details see http://go.microsoft.com/fwlink/?LinkId=287068.
   at System.Data.Entity.QueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at System.Data.Entity.QueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate)
   at NewCommerce.Persistence.Services.AuthService.PaswordResetAsync(String email) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 159
   at NewCommerce.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandHandler.Handle(PasswordResetCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\PasswordReset\PasswordResetCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.PasswordReset(PasswordResetCommandRequest passwordResetCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 62
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 13:27:03.227 +04:00 [ERR] The provider for the source IQueryable doesn't implement IDbAsyncQueryProvider. Only providers that implement IDbAsyncQueryProvider can be used for Entity Framework asynchronous operations. For more details see http://go.microsoft.com/fwlink/?LinkId=287068.
2025-03-16 13:27:03.232 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/password-reset - 500 null application/json 20925.9688ms
2025-03-16 13:32:53.375 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/password-reset - application/json 23
2025-03-16 13:32:53.434 +04:00 [INF] CORS policy execution successful.
2025-03-16 13:32:53.441 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 13:32:53.444 +04:00 [INF] Route matched with {action = "PasswordReset", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PasswordReset(NewCommerce.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 13:33:49.696 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 13:33:49.912 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 13:33:49.913 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 13:33:49.969 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 13:33:49.970 +04:00 [INF] Hosting environment: Development
2025-03-16 13:33:49.970 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 13:33:50.469 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 13:33:50.652 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 188.3082ms
2025-03-16 13:33:50.665 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 13:33:50.680 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 13:33:50.682 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 16.8677ms
2025-03-16 13:33:50.734 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.0747ms
2025-03-16 13:33:51.074 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 13:33:51.109 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 35.0595ms
2025-03-16 13:33:57.881 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/password-reset - application/json 23
2025-03-16 13:33:57.896 +04:00 [INF] CORS policy execution successful.
2025-03-16 13:33:57.923 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 13:33:57.973 +04:00 [INF] Route matched with {action = "PasswordReset", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PasswordReset(NewCommerce.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 13:34:03.489 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Email" = @__email_0
LIMIT 1
2025-03-16 13:34:04.174 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api) in 6187.4592ms
2025-03-16 13:34:04.178 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 13:34:04.225 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: The specified string is not in the form required for an e-mail address.
   at System.Net.Mail.MailAddressParser.TryReadCfwsAndThrowIfIncomplete(String data, Int32 index, Int32& outIndex, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.TryParseDomain(String data, Int32& index, String& domain, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.TryParseAddress(String data, Boolean expectMultipleAddresses, Int32& index, ParseAddressInfo& parseAddressInfo, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.ParseMultipleAddresses(String data)
   at System.Net.Mail.MailAddressCollection.ParseValue(String addresses)
   at NewCommerce.Infrastructure.Services.MailService.SendMailAsync(String[] tos, String subject, String body, Boolean isBodyHtml) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Infrastructure\Services\MailService.cs:line 32
   at NewCommerce.Infrastructure.Services.MailService.SendMailAsync(String to, String subject, String body, Boolean isBodyHtml) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Infrastructure\Services\MailService.cs:line 23
   at NewCommerce.Infrastructure.Services.MailService.SendPasswordResetMailAsync(String to, String userId, String resetToken) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Infrastructure\Services\MailService.cs:line 57
   at NewCommerce.Persistence.Services.AuthService.PaswordResetAsync(String email) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 166
   at NewCommerce.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandHandler.Handle(PasswordResetCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\PasswordReset\PasswordResetCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.PasswordReset(PasswordResetCommandRequest passwordResetCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 62
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 13:34:04.335 +04:00 [ERR] The specified string is not in the form required for an e-mail address.
2025-03-16 13:34:04.362 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/password-reset - 500 null application/json 6480.7839ms
2025-03-16 13:34:08.157 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/password-reset - application/json 23
2025-03-16 13:34:08.165 +04:00 [INF] CORS policy execution successful.
2025-03-16 13:34:08.167 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 13:34:08.169 +04:00 [INF] Route matched with {action = "PasswordReset", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PasswordReset(NewCommerce.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 13:34:19.539 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Email" = @__email_0
LIMIT 1
2025-03-16 13:35:04.514 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 13:35:04.778 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 13:35:04.779 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 13:35:04.853 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 13:35:04.854 +04:00 [INF] Hosting environment: Development
2025-03-16 13:35:04.855 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 13:35:05.443 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 13:35:05.630 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 190.234ms
2025-03-16 13:35:05.639 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 13:35:05.653 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 13.8715ms
2025-03-16 13:35:05.657 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 13:35:05.700 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.7095ms
2025-03-16 13:35:06.025 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 13:35:06.057 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.3668ms
2025-03-16 13:35:59.860 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Users - application/json 148
2025-03-16 13:35:59.884 +04:00 [INF] CORS policy execution successful.
2025-03-16 13:35:59.915 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.UsersController.CreateUser (NewCommerce.Api)'
2025-03-16 13:35:59.969 +04:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(NewCommerce.Application.Features.Commands.AppUser.CreateUser.CreateUserCommandRequest) on controller NewCommerce.Api.Controllers.UsersController (NewCommerce.Api).
2025-03-16 13:36:03.126 +04:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 13:36:03.571 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?' (DbType = Boolean), @p17='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NameSurname", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenEndDate", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-03-16 13:36:03.622 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.CreateUser.CreateUserCommandResponse'.
2025-03-16 13:36:03.640 +04:00 [INF] Executed action NewCommerce.Api.Controllers.UsersController.CreateUser (NewCommerce.Api) in 3660.8959ms
2025-03-16 13:36:03.644 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.UsersController.CreateUser (NewCommerce.Api)'
2025-03-16 13:36:03.667 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Users - 200 null application/json; charset=utf-8 3807.9021ms
2025-03-16 13:36:55.260 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/password-reset - application/json 40
2025-03-16 13:36:55.275 +04:00 [INF] CORS policy execution successful.
2025-03-16 13:36:55.280 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 13:36:55.290 +04:00 [INF] Route matched with {action = "PasswordReset", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PasswordReset(NewCommerce.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 13:37:05.128 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Email" = @__email_0
LIMIT 1
2025-03-16 13:37:30.141 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-16 13:37:30.142 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api) in 34849.3447ms
2025-03-16 13:37:30.145 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 13:37:32.796 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/password-reset - 200 0 null 37545.4835ms
2025-03-16 13:38:28.029 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 13:38:28.302 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 13:38:28.303 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 13:38:28.374 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 13:38:28.376 +04:00 [INF] Hosting environment: Development
2025-03-16 13:38:28.377 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 13:38:28.910 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 13:38:29.097 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 193.9392ms
2025-03-16 13:38:29.103 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 13:38:29.113 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 9.9768ms
2025-03-16 13:38:29.123 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 13:38:29.168 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.9034ms
2025-03-16 13:38:29.469 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 13:38:29.503 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.3722ms
2025-03-16 13:42:38.963 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 13:42:39.206 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 13:42:39.207 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 13:42:39.256 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 13:42:39.257 +04:00 [INF] Hosting environment: Development
2025-03-16 13:42:39.257 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 13:42:39.881 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 13:42:40.045 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 168.6741ms
2025-03-16 13:42:40.091 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 13:42:40.091 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 13:42:40.100 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 9.1299ms
2025-03-16 13:42:40.136 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.0765ms
2025-03-16 13:42:40.717 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 13:42:40.744 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.6043ms
2025-03-16 13:43:02.475 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/password-reset - application/json 33
2025-03-16 13:43:02.496 +04:00 [INF] CORS policy execution successful.
2025-03-16 13:43:02.524 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 13:43:02.570 +04:00 [INF] Route matched with {action = "PasswordReset", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PasswordReset(NewCommerce.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 13:43:08.902 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Email" = @__email_0
LIMIT 1
2025-03-16 13:43:12.322 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-16 13:43:12.332 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api) in 9750.7562ms
2025-03-16 13:43:12.335 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 13:43:12.355 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/password-reset - 200 0 null 9880.6025ms
2025-03-16 15:36:24.425 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 15:36:24.692 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 15:36:24.694 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 15:36:24.765 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 15:36:24.766 +04:00 [INF] Hosting environment: Development
2025-03-16 15:36:24.767 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 15:36:25.343 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 15:36:25.653 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 317.3601ms
2025-03-16 15:36:25.693 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 15:36:25.693 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 15:36:25.701 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 7.6177ms
2025-03-16 15:36:25.739 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.4897ms
2025-03-16 15:36:26.254 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 15:36:26.315 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.8621ms
2025-03-16 15:37:03.882 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/password-reset - application/json 33
2025-03-16 15:37:03.910 +04:00 [INF] CORS policy execution successful.
2025-03-16 15:37:03.951 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 15:37:04.010 +04:00 [INF] Route matched with {action = "PasswordReset", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PasswordReset(NewCommerce.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 15:37:07.398 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Email" = @__email_0
LIMIT 1
2025-03-16 15:37:07.433 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-16 15:37:07.447 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api) in 3423.5176ms
2025-03-16 15:37:07.449 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 15:37:07.477 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/password-reset - 200 0 null 3595.3635ms
2025-03-16 15:40:22.481 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - application/json 461
2025-03-16 15:40:22.504 +04:00 [INF] CORS policy execution successful.
2025-03-16 15:40:22.509 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:40:22.522 +04:00 [INF] Route matched with {action = "VerifyResetToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyResetToken(NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 15:40:22.833 +04:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-03-16 15:40:23.149 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenReponse'.
2025-03-16 15:40:23.161 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api) in 634.1666ms
2025-03-16 15:40:23.168 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:40:23.177 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - 200 null application/json; charset=utf-8 709.4788ms
2025-03-16 15:43:24.266 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - application/json 461
2025-03-16 15:43:24.282 +04:00 [INF] CORS policy execution successful.
2025-03-16 15:43:24.290 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:43:24.293 +04:00 [INF] Route matched with {action = "VerifyResetToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyResetToken(NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 15:43:24.436 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-03-16 15:43:24.443 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenReponse'.
2025-03-16 15:43:24.445 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api) in 149.2654ms
2025-03-16 15:43:24.448 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:43:24.450 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - 200 null application/json; charset=utf-8 208.9081ms
2025-03-16 15:43:39.019 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - application/json 461
2025-03-16 15:43:39.026 +04:00 [INF] CORS policy execution successful.
2025-03-16 15:43:39.027 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:43:39.028 +04:00 [INF] Route matched with {action = "VerifyResetToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyResetToken(NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 15:43:47.087 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-03-16 15:44:42.272 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenReponse'.
2025-03-16 15:44:42.292 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api) in 63261.3792ms
2025-03-16 15:44:42.297 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:44:42.299 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - 200 null application/json; charset=utf-8 63280.4059ms
2025-03-16 15:44:53.564 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - application/json 462
2025-03-16 15:44:53.566 +04:00 [INF] CORS policy execution successful.
2025-03-16 15:44:53.568 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:44:53.569 +04:00 [INF] Route matched with {action = "VerifyResetToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyResetToken(NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 15:44:56.634 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-03-16 15:44:56.647 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenReponse'.
2025-03-16 15:44:56.649 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api) in 3077.6913ms
2025-03-16 15:44:56.652 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:44:56.654 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - 200 null application/json; charset=utf-8 3090.7557ms
2025-03-16 15:45:06.732 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - application/json 462
2025-03-16 15:45:06.738 +04:00 [INF] CORS policy execution successful.
2025-03-16 15:45:06.740 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:45:06.743 +04:00 [INF] Route matched with {action = "VerifyResetToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyResetToken(NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 15:45:09.360 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-03-16 15:46:43.719 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenReponse'.
2025-03-16 15:46:43.754 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api) in 97006.4731ms
2025-03-16 15:46:43.758 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:46:43.761 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - 200 null application/json; charset=utf-8 97029.3136ms
2025-03-16 15:47:04.044 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - application/json 462
2025-03-16 15:47:04.047 +04:00 [INF] CORS policy execution successful.
2025-03-16 15:47:09.373 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:47:09.398 +04:00 [INF] Route matched with {action = "VerifyResetToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyResetToken(NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 15:47:28.718 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-03-16 15:51:20.967 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenReponse'.
2025-03-16 15:51:20.971 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api) in 251567.9255ms
2025-03-16 15:51:20.973 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:51:20.976 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - 200 null application/json; charset=utf-8 256932.6681ms
2025-03-16 15:51:23.405 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - application/json 394
2025-03-16 15:51:23.410 +04:00 [INF] CORS policy execution successful.
2025-03-16 15:51:23.412 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:51:23.418 +04:00 [INF] Route matched with {action = "VerifyResetToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyResetToken(NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 15:51:27.225 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-03-16 15:51:27.239 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenReponse'.
2025-03-16 15:51:27.241 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api) in 3818.9728ms
2025-03-16 15:51:27.243 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:51:27.245 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - 200 null application/json; charset=utf-8 3840.3635ms
2025-03-16 15:52:11.629 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - application/json 391
2025-03-16 15:52:11.649 +04:00 [INF] CORS policy execution successful.
2025-03-16 15:52:11.652 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:52:11.655 +04:00 [INF] Route matched with {action = "VerifyResetToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyResetToken(NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 15:52:20.275 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-03-16 15:52:27.540 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenReponse'.
2025-03-16 15:52:27.546 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api) in 15886.0677ms
2025-03-16 15:52:27.549 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:52:27.552 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - 200 null application/json; charset=utf-8 15922.7011ms
2025-03-16 15:52:39.381 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 15:52:39.729 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 15:52:39.730 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 15:52:39.790 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 15:52:39.791 +04:00 [INF] Hosting environment: Development
2025-03-16 15:52:39.792 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 15:52:40.145 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 15:52:40.385 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 245.7132ms
2025-03-16 15:52:40.397 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 15:52:40.440 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 42.5955ms
2025-03-16 15:52:40.441 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 15:52:40.492 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.9704ms
2025-03-16 15:52:41.320 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 15:52:41.348 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.6482ms
2025-03-16 15:53:04.644 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - application/json 395
2025-03-16 15:53:04.674 +04:00 [INF] CORS policy execution successful.
2025-03-16 15:53:04.711 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:53:04.779 +04:00 [INF] Route matched with {action = "VerifyResetToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyResetToken(NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 15:53:04.888 +04:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2025-03-16 15:53:04.937 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api) in 131.7766ms
2025-03-16 15:53:04.941 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:53:04.946 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - 400 null application/json; charset=utf-8 302.5778ms
2025-03-16 15:53:21.346 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - application/json 394
2025-03-16 15:53:21.362 +04:00 [INF] CORS policy execution successful.
2025-03-16 15:53:21.367 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:53:21.373 +04:00 [INF] Route matched with {action = "VerifyResetToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyResetToken(NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 15:53:30.412 +04:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-03-16 15:53:30.711 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenReponse'.
2025-03-16 15:53:30.717 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api) in 9340.1098ms
2025-03-16 15:53:30.722 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:53:30.753 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - 200 null application/json; charset=utf-8 9407.23ms
2025-03-16 15:53:51.448 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - application/json 394
2025-03-16 15:53:51.459 +04:00 [INF] CORS policy execution successful.
2025-03-16 15:53:51.464 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:53:51.466 +04:00 [INF] Route matched with {action = "VerifyResetToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyResetToken(NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 15:53:54.603 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-03-16 15:58:31.614 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 15:58:31.905 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 15:58:31.906 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 15:58:31.974 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 15:58:31.975 +04:00 [INF] Hosting environment: Development
2025-03-16 15:58:31.983 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 15:58:32.364 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 15:58:32.609 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 248.7425ms
2025-03-16 15:58:32.653 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 15:58:32.653 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 15:58:32.663 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 10.0281ms
2025-03-16 15:58:32.704 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.7292ms
2025-03-16 15:58:33.168 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 15:58:33.201 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.3897ms
2025-03-16 15:58:58.172 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - application/json 394
2025-03-16 15:58:58.194 +04:00 [INF] CORS policy execution successful.
2025-03-16 15:58:58.228 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:58:58.289 +04:00 [INF] Route matched with {action = "VerifyResetToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyResetToken(NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 15:59:01.983 +04:00 [INF] Executed DbCommand (47ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-03-16 15:59:02.327 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenReponse'.
2025-03-16 15:59:02.352 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api) in 4045.1318ms
2025-03-16 15:59:02.357 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 15:59:02.387 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - 200 null application/json; charset=utf-8 4215.1486ms
2025-03-16 16:53:04.321 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 16:53:04.555 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 16:53:04.556 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 16:53:04.607 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 16:53:04.609 +04:00 [INF] Hosting environment: Development
2025-03-16 16:53:04.609 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 16:53:05.341 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 16:53:05.550 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 213.4452ms
2025-03-16 16:53:05.584 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 16:53:05.584 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 16:53:05.594 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 9.3987ms
2025-03-16 16:53:05.632 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.2814ms
2025-03-16 16:53:05.999 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 16:53:06.025 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "POST api/Users" for actions - NewCommerce.Api.Controllers.UsersController.CreateUser (NewCommerce.Api),NewCommerce.Api.Controllers.UsersController.CreateUser (NewCommerce.Api). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-16 16:53:06.038 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 39.8585ms
2025-03-16 16:53:53.647 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 16:53:53.934 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 16:53:53.937 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 16:53:54.010 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 16:53:54.012 +04:00 [INF] Hosting environment: Development
2025-03-16 16:53:54.013 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 16:53:54.751 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 16:53:54.965 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 221.0557ms
2025-03-16 16:53:54.974 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 16:53:54.984 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 10.7217ms
2025-03-16 16:53:54.991 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 16:53:55.032 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.53ms
2025-03-16 16:53:55.400 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 16:53:55.438 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 38.0815ms
2025-03-16 16:56:16.211 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Users/update-password-command - application/json 424
2025-03-16 16:56:16.241 +04:00 [INF] CORS policy execution successful.
2025-03-16 16:56:16.273 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api)'
2025-03-16 16:56:16.328 +04:00 [INF] Route matched with {action = "UpdatePasswordCommand", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePasswordCommand(NewCommerce.Application.Features.Commands.AppUser.UpdatePassword.UpdatePasswordCommandRequest) on controller NewCommerce.Api.Controllers.UsersController (NewCommerce.Api).
2025-03-16 16:56:19.340 +04:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 16:56:19.404 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.UpdatePassword.UpdatePasswordCommandResponse'.
2025-03-16 16:56:19.419 +04:00 [INF] Executed action NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api) in 3079.0238ms
2025-03-16 16:56:19.422 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api)'
2025-03-16 16:56:19.444 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Users/update-password-command - 200 null application/json; charset=utf-8 3234.2527ms
2025-03-16 16:56:33.637 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 57
2025-03-16 16:56:33.644 +04:00 [INF] CORS policy execution successful.
2025-03-16 16:56:33.648 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:56:33.662 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 16:56:33.845 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 16:56:34.466 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 16:56:34.701 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-16 16:56:34.725 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-16 16:56:34.739 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 1068.2796ms
2025-03-16 16:56:34.741 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:56:34.743 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 200 null application/json; charset=utf-8 1106.7605ms
2025-03-16 16:57:03.635 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 74
2025-03-16 16:57:03.649 +04:00 [INF] CORS policy execution successful.
2025-03-16 16:57:03.656 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:57:03.657 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 16:57:03.699 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 16:57:03.708 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 16:57:04.178 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 519.6051ms
2025-03-16 16:57:04.183 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:57:04.321 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.AuthenticationErrorException: Kimlik doğrulama hatası!
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 140
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 16:57:04.456 +04:00 [ERR] Kimlik doğrulama hatası!
2025-03-16 16:57:04.466 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 831.4181ms
2025-03-16 16:57:12.830 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 77
2025-03-16 16:57:12.833 +04:00 [INF] CORS policy execution successful.
2025-03-16 16:57:12.834 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:57:12.835 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 16:57:12.872 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 16:57:12.886 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 16:57:13.297 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 459.1271ms
2025-03-16 16:57:13.301 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:57:13.410 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.AuthenticationErrorException: Kimlik doğrulama hatası!
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 140
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 16:57:13.424 +04:00 [ERR] Kimlik doğrulama hatası!
2025-03-16 16:57:13.426 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 596.0873ms
2025-03-16 16:57:50.350 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 74
2025-03-16 16:57:50.363 +04:00 [INF] CORS policy execution successful.
2025-03-16 16:57:50.365 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:57:50.366 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 16:57:50.377 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 16:57:50.406 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 16:57:50.800 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 431.6519ms
2025-03-16 16:57:50.803 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:57:50.903 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.AuthenticationErrorException: Kimlik doğrulama hatası!
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 140
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 16:57:50.918 +04:00 [ERR] Kimlik doğrulama hatası!
2025-03-16 16:57:50.920 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 570.5794ms
2025-03-16 16:57:56.721 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 74
2025-03-16 16:57:56.725 +04:00 [INF] CORS policy execution successful.
2025-03-16 16:57:56.726 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:57:56.728 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 16:57:56.735 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 16:57:56.751 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 16:57:57.226 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 496.5113ms
2025-03-16 16:57:57.230 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:57:57.360 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.AuthenticationErrorException: Kimlik doğrulama hatası!
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 140
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 16:57:57.382 +04:00 [ERR] Kimlik doğrulama hatası!
2025-03-16 16:57:57.386 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 665.4125ms
2025-03-16 16:58:26.362 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 74
2025-03-16 16:58:26.369 +04:00 [INF] CORS policy execution successful.
2025-03-16 16:58:26.369 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:58:26.370 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 16:58:26.379 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 16:58:26.397 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 16:58:26.808 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 437.5363ms
2025-03-16 16:58:26.810 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:58:26.928 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.AuthenticationErrorException: Kimlik doğrulama hatası!
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 140
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 16:58:26.943 +04:00 [ERR] Kimlik doğrulama hatası!
2025-03-16 16:58:26.945 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 586.6973ms
2025-03-16 16:58:37.752 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 77
2025-03-16 16:58:37.755 +04:00 [INF] CORS policy execution successful.
2025-03-16 16:58:37.757 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:58:37.758 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 16:58:37.773 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 16:58:37.783 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 16:58:38.151 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 391.5257ms
2025-03-16 16:58:38.153 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:58:38.257 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.AuthenticationErrorException: Kimlik doğrulama hatası!
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 140
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 16:58:38.269 +04:00 [ERR] Kimlik doğrulama hatası!
2025-03-16 16:58:38.271 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 519.7843ms
2025-03-16 16:58:41.365 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 77
2025-03-16 16:58:41.368 +04:00 [INF] CORS policy execution successful.
2025-03-16 16:58:41.369 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:58:41.370 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 16:58:41.375 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 16:58:41.384 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 16:58:41.803 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 431.7778ms
2025-03-16 16:58:41.806 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:58:41.918 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.AuthenticationErrorException: Kimlik doğrulama hatası!
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 140
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 16:58:41.931 +04:00 [ERR] Kimlik doğrulama hatası!
2025-03-16 16:58:41.934 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 568.4223ms
2025-03-16 16:59:37.216 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 60
2025-03-16 16:59:37.221 +04:00 [INF] CORS policy execution successful.
2025-03-16 16:59:37.223 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:59:37.224 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 16:59:37.294 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 16:59:37.719 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 492.2146ms
2025-03-16 16:59:37.722 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:59:37.824 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.AuthenticationErrorException: Kimlik doğrulama hatası!
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 140
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 16:59:37.834 +04:00 [ERR] Kimlik doğrulama hatası!
2025-03-16 16:59:37.836 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 620.6073ms
2025-03-16 16:59:44.986 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 57
2025-03-16 16:59:44.989 +04:00 [INF] CORS policy execution successful.
2025-03-16 16:59:44.992 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:59:44.993 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 16:59:45.001 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 16:59:45.251 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 16:59:45.259 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-16 16:59:45.263 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-16 16:59:45.266 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 271.4878ms
2025-03-16 16:59:45.268 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 16:59:45.269 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 200 null application/json; charset=utf-8 284.3278ms
2025-03-16 17:00:33.929 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 60
2025-03-16 17:00:33.938 +04:00 [INF] CORS policy execution successful.
2025-03-16 17:00:33.940 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:00:33.942 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 17:00:33.962 +04:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2025-03-16 17:00:33.976 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 31.5292ms
2025-03-16 17:00:33.978 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:00:33.990 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 400 null application/json; charset=utf-8 61.8333ms
2025-03-16 17:00:47.841 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 57
2025-03-16 17:00:47.849 +04:00 [INF] CORS policy execution successful.
2025-03-16 17:00:47.851 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:00:47.852 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 17:00:47.863 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 17:00:48.263 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 409.2749ms
2025-03-16 17:00:48.266 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:00:48.368 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.AuthenticationErrorException: Kimlik doğrulama hatası!
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 140
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 17:00:48.380 +04:00 [ERR] Kimlik doğrulama hatası!
2025-03-16 17:00:48.382 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 540.8457ms
2025-03-16 17:00:55.805 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 60
2025-03-16 17:00:55.808 +04:00 [INF] CORS policy execution successful.
2025-03-16 17:00:55.809 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:00:55.818 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 17:00:55.826 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 17:00:56.230 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 409.1048ms
2025-03-16 17:00:56.232 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:00:56.340 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.AuthenticationErrorException: Kimlik doğrulama hatası!
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 140
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 17:00:56.351 +04:00 [ERR] Kimlik doğrulama hatası!
2025-03-16 17:00:56.352 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 546.4606ms
2025-03-16 17:01:09.539 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 61
2025-03-16 17:01:09.543 +04:00 [INF] CORS policy execution successful.
2025-03-16 17:01:09.544 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:01:09.545 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 17:01:09.550 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 17:01:09.932 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 386.6ms
2025-03-16 17:01:09.935 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:01:10.008 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.AuthenticationErrorException: Kimlik doğrulama hatası!
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 140
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 17:01:10.020 +04:00 [ERR] Kimlik doğrulama hatası!
2025-03-16 17:01:10.021 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 482.5593ms
2025-03-16 17:01:15.285 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Users/update-password-command - application/json 424
2025-03-16 17:01:15.290 +04:00 [INF] CORS policy execution successful.
2025-03-16 17:01:15.292 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api)'
2025-03-16 17:01:15.294 +04:00 [INF] Route matched with {action = "UpdatePasswordCommand", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePasswordCommand(NewCommerce.Application.Features.Commands.AppUser.UpdatePassword.UpdatePasswordCommandRequest) on controller NewCommerce.Api.Controllers.UsersController (NewCommerce.Api).
2025-03-16 17:01:15.305 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 17:01:15.313 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.UpdatePassword.UpdatePasswordCommandResponse'.
2025-03-16 17:01:15.316 +04:00 [INF] Executed action NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api) in 19.355ms
2025-03-16 17:01:15.320 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api)'
2025-03-16 17:01:15.322 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Users/update-password-command - 200 null application/json; charset=utf-8 37.706ms
2025-03-16 17:01:22.681 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 61
2025-03-16 17:01:22.684 +04:00 [INF] CORS policy execution successful.
2025-03-16 17:01:22.685 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:01:22.687 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 17:01:22.692 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 17:01:23.106 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 417.9357ms
2025-03-16 17:01:23.180 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:01:23.296 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.AuthenticationErrorException: Kimlik doğrulama hatası!
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 140
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 17:01:23.313 +04:00 [ERR] Kimlik doğrulama hatası!
2025-03-16 17:01:23.316 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 634.6044ms
2025-03-16 17:01:32.078 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 58
2025-03-16 17:01:32.081 +04:00 [INF] CORS policy execution successful.
2025-03-16 17:01:32.082 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:01:32.088 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 17:01:32.097 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 17:01:32.474 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 384.217ms
2025-03-16 17:01:32.477 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:01:32.580 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.AuthenticationErrorException: Kimlik doğrulama hatası!
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 140
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 17:01:32.598 +04:00 [ERR] Kimlik doğrulama hatası!
2025-03-16 17:01:32.600 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 522.1097ms
2025-03-16 17:02:35.110 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Users - application/json 137
2025-03-16 17:02:35.122 +04:00 [INF] CORS policy execution successful.
2025-03-16 17:02:35.123 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.UsersController.CreateUser (NewCommerce.Api)'
2025-03-16 17:02:35.132 +04:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(NewCommerce.Application.Features.Commands.AppUser.CreateUser.CreateUserCommandRequest) on controller NewCommerce.Api.Controllers.UsersController (NewCommerce.Api).
2025-03-16 17:02:35.371 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 17:02:35.426 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?' (DbType = Boolean), @p17='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NameSurname", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenEndDate", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-03-16 17:02:35.434 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.CreateUser.CreateUserCommandResponse'.
2025-03-16 17:02:35.438 +04:00 [INF] Executed action NewCommerce.Api.Controllers.UsersController.CreateUser (NewCommerce.Api) in 303.1051ms
2025-03-16 17:02:35.439 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.UsersController.CreateUser (NewCommerce.Api)'
2025-03-16 17:02:35.441 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Users - 200 null application/json; charset=utf-8 331.0564ms
2025-03-16 17:03:39.426 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 56
2025-03-16 17:03:39.437 +04:00 [INF] CORS policy execution successful.
2025-03-16 17:03:39.438 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:03:39.439 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 17:03:39.452 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 17:03:39.688 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 17:03:39.697 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-16 17:03:39.703 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-16 17:03:39.705 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 261.1636ms
2025-03-16 17:03:39.707 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:03:39.718 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 200 null application/json; charset=utf-8 294.2223ms
2025-03-16 17:03:45.865 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 67
2025-03-16 17:03:45.868 +04:00 [INF] CORS policy execution successful.
2025-03-16 17:03:45.869 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:03:45.870 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 17:03:45.875 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 17:03:45.883 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 17:03:46.129 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 17:03:46.137 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-16 17:03:46.141 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-16 17:03:46.143 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 271.7684ms
2025-03-16 17:03:46.145 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:03:46.146 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 200 null application/json; charset=utf-8 281.46ms
2025-03-16 17:04:02.071 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/password-reset - application/json 32
2025-03-16 17:04:02.074 +04:00 [INF] CORS policy execution successful.
2025-03-16 17:04:02.077 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 17:04:02.087 +04:00 [INF] Route matched with {action = "PasswordReset", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PasswordReset(NewCommerce.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 17:04:02.129 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Email" = @__email_0
LIMIT 1
2025-03-16 17:04:04.974 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-16 17:04:04.976 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api) in 2886.5002ms
2025-03-16 17:04:04.980 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 17:04:04.982 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/password-reset - 200 0 null 2912.2821ms
2025-03-16 17:04:35.626 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077//update-password/064caf9e-57f5-4932-ad35-948dd37af8de/Q2ZESjhKMi9zM2sxVVhaUHFWdnp0MUl4eFUwTkFmU0dWOFNOZmNCYi9qTFQ5bmdKTDltUy9IV3pFNGx2WFlHam54OXM1MWQ1REtYMlVqMWFaYVZPbkN4YjJMWlA4TjFpcWxOQXRNdk5BREZLVEtsSFhVS2RVLzlTbzkvelVUMEVjbWI0SmdxNXIvTlRPRCtzUFRCZWpDYVVMOVBMeWNHajB2blNLWWsyV2lSV2JOd0FLVUxSd2ZTTHJWSnZJVWNWOGtsODJERHV5YmQyejlLODhHd2FScjdVREU5R2J6N3FrNEhnNGpVbDVtazB5empq - null null
2025-03-16 17:04:35.653 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077//update-password/064caf9e-57f5-4932-ad35-948dd37af8de/Q2ZESjhKMi9zM2sxVVhaUHFWdnp0MUl4eFUwTkFmU0dWOFNOZmNCYi9qTFQ5bmdKTDltUy9IV3pFNGx2WFlHam54OXM1MWQ1REtYMlVqMWFaYVZPbkN4YjJMWlA4TjFpcWxOQXRNdk5BREZLVEtsSFhVS2RVLzlTbzkvelVUMEVjbWI0SmdxNXIvTlRPRCtzUFRCZWpDYVVMOVBMeWNHajB2blNLWWsyV2lSV2JOd0FLVUxSd2ZTTHJWSnZJVWNWOGtsODJERHV5YmQyejlLODhHd2FScjdVREU5R2J6N3FrNEhnNGpVbDVtazB5empq - 404 0 null 27.0111ms
2025-03-16 17:04:35.657 +04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7077//update-password/064caf9e-57f5-4932-ad35-948dd37af8de/Q2ZESjhKMi9zM2sxVVhaUHFWdnp0MUl4eFUwTkFmU0dWOFNOZmNCYi9qTFQ5bmdKTDltUy9IV3pFNGx2WFlHam54OXM1MWQ1REtYMlVqMWFaYVZPbkN4YjJMWlA4TjFpcWxOQXRNdk5BREZLVEtsSFhVS2RVLzlTbzkvelVUMEVjbWI0SmdxNXIvTlRPRCtzUFRCZWpDYVVMOVBMeWNHajB2blNLWWsyV2lSV2JOd0FLVUxSd2ZTTHJWSnZJVWNWOGtsODJERHV5YmQyejlLODhHd2FScjdVREU5R2J6N3FrNEhnNGpVbDVtazB5empq, Response status code: 404
2025-03-16 17:05:34.460 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - application/json 394
2025-03-16 17:05:34.475 +04:00 [INF] CORS policy execution successful.
2025-03-16 17:05:34.476 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 17:05:34.486 +04:00 [INF] Route matched with {action = "VerifyResetToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyResetToken(NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 17:05:39.901 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-03-16 17:05:39.915 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenReponse'.
2025-03-16 17:05:39.920 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api) in 5431.3155ms
2025-03-16 17:05:39.923 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 17:05:39.925 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - 200 null application/json; charset=utf-8 5464.6704ms
2025-03-16 17:06:16.031 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Users/update-password-command - application/json 424
2025-03-16 17:06:16.042 +04:00 [INF] CORS policy execution successful.
2025-03-16 17:06:16.043 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api)'
2025-03-16 17:06:16.044 +04:00 [INF] Route matched with {action = "UpdatePasswordCommand", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePasswordCommand(NewCommerce.Application.Features.Commands.AppUser.UpdatePassword.UpdatePasswordCommandRequest) on controller NewCommerce.Api.Controllers.UsersController (NewCommerce.Api).
2025-03-16 17:06:16.056 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 17:06:16.072 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.UpdatePassword.UpdatePasswordCommandResponse'.
2025-03-16 17:06:16.074 +04:00 [INF] Executed action NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api) in 28.3849ms
2025-03-16 17:06:16.076 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api)'
2025-03-16 17:06:16.077 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Users/update-password-command - 200 null application/json; charset=utf-8 46.694ms
2025-03-16 17:06:17.235 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Users/update-password-command - application/json 424
2025-03-16 17:06:17.237 +04:00 [INF] CORS policy execution successful.
2025-03-16 17:06:17.241 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api)'
2025-03-16 17:06:17.242 +04:00 [INF] Route matched with {action = "UpdatePasswordCommand", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePasswordCommand(NewCommerce.Application.Features.Commands.AppUser.UpdatePassword.UpdatePasswordCommandRequest) on controller NewCommerce.Api.Controllers.UsersController (NewCommerce.Api).
2025-03-16 17:06:17.248 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 17:06:17.253 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.UpdatePassword.UpdatePasswordCommandResponse'.
2025-03-16 17:06:17.254 +04:00 [INF] Executed action NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api) in 11.0144ms
2025-03-16 17:06:17.256 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api)'
2025-03-16 17:06:17.259 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Users/update-password-command - 200 null application/json; charset=utf-8 23.9238ms
2025-03-16 17:06:27.668 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 67
2025-03-16 17:06:27.670 +04:00 [INF] CORS policy execution successful.
2025-03-16 17:06:27.671 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:06:27.674 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 17:06:27.678 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 17:06:27.682 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 17:06:27.918 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 17:06:27.927 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-16 17:06:27.930 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-16 17:06:27.933 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 257.8208ms
2025-03-16 17:06:27.936 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:06:27.938 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 200 null application/json; charset=utf-8 270.8907ms
2025-03-16 17:06:40.013 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 69
2025-03-16 17:06:40.016 +04:00 [INF] CORS policy execution successful.
2025-03-16 17:06:40.017 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:06:40.018 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 17:06:40.022 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 17:06:40.027 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 17:06:40.479 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 459.1687ms
2025-03-16 17:06:40.481 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 17:06:40.567 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.AuthenticationErrorException: Kimlik doğrulama hatası!
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 140
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 17:06:40.583 +04:00 [ERR] Kimlik doğrulama hatası!
2025-03-16 17:06:40.587 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 574.0041ms
2025-03-16 18:20:08.427 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 18:20:08.718 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 18:20:08.721 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 18:20:08.766 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 18:20:08.769 +04:00 [INF] Hosting environment: Development
2025-03-16 18:20:08.769 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 18:20:09.182 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 18:20:09.359 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 181.9741ms
2025-03-16 18:20:09.392 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 18:20:09.392 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 18:20:09.397 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 4.7273ms
2025-03-16 18:20:09.422 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.7891ms
2025-03-16 18:20:09.773 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 18:20:09.804 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.765ms
2025-03-16 18:21:11.116 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 69
2025-03-16 18:21:11.136 +04:00 [INF] CORS policy execution successful.
2025-03-16 18:21:11.157 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:21:11.201 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 18:21:11.273 +04:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2025-03-16 18:21:11.295 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 85.7785ms
2025-03-16 18:21:11.296 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:21:11.297 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 400 null application/json; charset=utf-8 181.5095ms
2025-03-16 18:21:27.179 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 67
2025-03-16 18:21:27.186 +04:00 [INF] CORS policy execution successful.
2025-03-16 18:21:27.191 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:21:27.199 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 18:21:29.412 +04:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 18:21:29.467 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 18:21:30.526 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 18:21:30.651 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-16 18:21:30.671 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-16 18:21:30.684 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 3483.7761ms
2025-03-16 18:21:30.689 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:21:30.703 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 200 null application/json; charset=utf-8 3523.6875ms
2025-03-16 18:21:38.995 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 68
2025-03-16 18:21:39.007 +04:00 [INF] CORS policy execution successful.
2025-03-16 18:21:39.016 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:21:39.018 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 18:21:39.076 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 18:21:39.083 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 18:21:39.368 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 349.2808ms
2025-03-16 18:21:39.372 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:21:39.495 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.AuthenticationErrorException: Kimlik doğrulama hatası!
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 140
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 18:21:39.722 +04:00 [ERR] Kimlik doğrulama hatası!
2025-03-16 18:21:39.726 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 731.0311ms
2025-03-16 18:21:48.062 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 67
2025-03-16 18:21:48.065 +04:00 [INF] CORS policy execution successful.
2025-03-16 18:21:48.066 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:21:48.068 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 18:21:48.105 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 18:21:48.109 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 18:21:48.245 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 18:21:48.254 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-16 18:21:48.256 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-16 18:21:48.258 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 189.3544ms
2025-03-16 18:21:48.262 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:21:48.264 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 200 null application/json; charset=utf-8 203.2295ms
2025-03-16 18:22:19.708 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/password-reset - application/json 32
2025-03-16 18:22:19.712 +04:00 [INF] CORS policy execution successful.
2025-03-16 18:22:19.715 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 18:22:19.722 +04:00 [INF] Route matched with {action = "PasswordReset", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PasswordReset(NewCommerce.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 18:22:19.743 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Email" = @__email_0
LIMIT 1
2025-03-16 18:22:22.244 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-16 18:22:22.248 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api) in 2524.0805ms
2025-03-16 18:22:22.252 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 18:22:22.255 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/password-reset - 200 0 null 2546.8172ms
2025-03-16 18:22:54.494 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077//update-password/064caf9e-57f5-4932-ad35-948dd37af8de/Q2ZESjhKMi9zM2sxVVhaUHFWdnp0MUl4eFUwRTRKY2loNTJtSFFsNnpWbWxNL2VvUE05VXZwWTExc3VacXpsYTBCelBnUUhSazB6UnMrcmloVG5wMWtYU040RUtJREtvVFZSaVUrRC9RZHdpc25hSVZla2xwRVVsQW01Mm1KdUlrMlNiVjJIaTVoeWNSa0RiVWNhYytVelkra0FUSytFcFc3aG8xampvdzh5VXZVbjkvbzc3QUJFRGxLRHRERW43RVNKUXFpejk4YnVzN1RZNlF5cXVoOHlaNDFUc3YyNlprcm1xUlZodzY2NVN1N094 - null null
2025-03-16 18:22:54.512 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077//update-password/064caf9e-57f5-4932-ad35-948dd37af8de/Q2ZESjhKMi9zM2sxVVhaUHFWdnp0MUl4eFUwRTRKY2loNTJtSFFsNnpWbWxNL2VvUE05VXZwWTExc3VacXpsYTBCelBnUUhSazB6UnMrcmloVG5wMWtYU040RUtJREtvVFZSaVUrRC9RZHdpc25hSVZla2xwRVVsQW01Mm1KdUlrMlNiVjJIaTVoeWNSa0RiVWNhYytVelkra0FUSytFcFc3aG8xampvdzh5VXZVbjkvbzc3QUJFRGxLRHRERW43RVNKUXFpejk4YnVzN1RZNlF5cXVoOHlaNDFUc3YyNlprcm1xUlZodzY2NVN1N094 - 404 0 null 19.4076ms
2025-03-16 18:22:54.515 +04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7077//update-password/064caf9e-57f5-4932-ad35-948dd37af8de/Q2ZESjhKMi9zM2sxVVhaUHFWdnp0MUl4eFUwRTRKY2loNTJtSFFsNnpWbWxNL2VvUE05VXZwWTExc3VacXpsYTBCelBnUUhSazB6UnMrcmloVG5wMWtYU040RUtJREtvVFZSaVUrRC9RZHdpc25hSVZla2xwRVVsQW01Mm1KdUlrMlNiVjJIaTVoeWNSa0RiVWNhYytVelkra0FUSytFcFc3aG8xampvdzh5VXZVbjkvbzc3QUJFRGxLRHRERW43RVNKUXFpejk4YnVzN1RZNlF5cXVoOHlaNDFUc3YyNlprcm1xUlZodzY2NVN1N094, Response status code: 404
2025-03-16 18:23:32.259 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - application/json 393
2025-03-16 18:23:32.281 +04:00 [INF] CORS policy execution successful.
2025-03-16 18:23:32.283 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 18:23:32.286 +04:00 [INF] Route matched with {action = "VerifyResetToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyResetToken(NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 18:23:32.317 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-03-16 18:23:32.328 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenReponse'.
2025-03-16 18:23:32.331 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api) in 41.3689ms
2025-03-16 18:23:32.332 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 18:23:32.333 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - 200 null application/json; charset=utf-8 74.1141ms
2025-03-16 18:23:40.529 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - application/json 394
2025-03-16 18:23:40.532 +04:00 [INF] CORS policy execution successful.
2025-03-16 18:23:40.533 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 18:23:40.538 +04:00 [INF] Route matched with {action = "VerifyResetToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyResetToken(NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 18:23:40.551 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-03-16 18:23:40.557 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.VerifyResetToken.VerifyResetTokenReponse'.
2025-03-16 18:23:40.560 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api) in 18.3464ms
2025-03-16 18:23:40.561 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.VerifyResetToken (NewCommerce.Api)'
2025-03-16 18:23:40.562 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/verify-reset-token - 200 null application/json; charset=utf-8 33.114ms
2025-03-16 18:24:17.377 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Users/update-password-command - application/json 421
2025-03-16 18:24:17.396 +04:00 [INF] CORS policy execution successful.
2025-03-16 18:24:17.397 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api)'
2025-03-16 18:24:17.400 +04:00 [INF] Route matched with {action = "UpdatePasswordCommand", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePasswordCommand(NewCommerce.Application.Features.Commands.AppUser.UpdatePassword.UpdatePasswordCommandRequest) on controller NewCommerce.Api.Controllers.UsersController (NewCommerce.Api).
2025-03-16 18:24:17.409 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 18:24:17.414 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.UpdatePassword.UpdatePasswordCommandResponse'.
2025-03-16 18:24:17.415 +04:00 [INF] Executed action NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api) in 13.6927ms
2025-03-16 18:24:17.417 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api)'
2025-03-16 18:24:17.419 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Users/update-password-command - 200 null application/json; charset=utf-8 42.0585ms
2025-03-16 18:24:34.684 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 67
2025-03-16 18:24:34.687 +04:00 [INF] CORS policy execution successful.
2025-03-16 18:24:34.697 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:24:34.699 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 18:24:34.706 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 18:24:34.712 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 18:24:34.815 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 18:24:34.822 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-16 18:24:34.827 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-16 18:24:34.829 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 127.0123ms
2025-03-16 18:24:34.830 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:24:34.831 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 200 null application/json; charset=utf-8 147.4037ms
2025-03-16 18:24:44.646 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 66
2025-03-16 18:24:44.650 +04:00 [INF] CORS policy execution successful.
2025-03-16 18:24:44.651 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:24:44.652 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 18:24:44.656 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 18:24:44.663 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 18:24:44.900 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 246.7492ms
2025-03-16 18:24:44.904 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:24:44.979 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.AuthenticationErrorException: Kimlik doğrulama hatası!
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 140
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 18:24:44.994 +04:00 [ERR] Kimlik doğrulama hatası!
2025-03-16 18:24:44.994 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 348.3017ms
2025-03-16 18:26:15.095 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Users/update-password-command - application/json 421
2025-03-16 18:26:15.103 +04:00 [INF] CORS policy execution successful.
2025-03-16 18:26:15.104 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api)'
2025-03-16 18:26:15.106 +04:00 [INF] Route matched with {action = "UpdatePasswordCommand", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePasswordCommand(NewCommerce.Application.Features.Commands.AppUser.UpdatePassword.UpdatePasswordCommandRequest) on controller NewCommerce.Api.Controllers.UsersController (NewCommerce.Api).
2025-03-16 18:26:15.157 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 18:27:03.112 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 18:27:03.338 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 18:27:03.339 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 18:27:03.381 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 18:27:03.381 +04:00 [INF] Hosting environment: Development
2025-03-16 18:27:03.382 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 18:27:03.943 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 18:27:04.077 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 138.3664ms
2025-03-16 18:27:04.101 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 18:27:04.101 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 18:27:04.109 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 7.7806ms
2025-03-16 18:27:04.137 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.8705ms
2025-03-16 18:27:04.356 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 18:27:04.392 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.7621ms
2025-03-16 18:31:58.556 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 68
2025-03-16 18:31:58.569 +04:00 [INF] CORS policy execution successful.
2025-03-16 18:31:58.582 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:31:58.605 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 18:31:58.652 +04:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2025-03-16 18:31:58.669 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 58.9345ms
2025-03-16 18:31:58.673 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:31:58.674 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 400 null application/json; charset=utf-8 119.5339ms
2025-03-16 18:32:07.826 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 66
2025-03-16 18:32:07.831 +04:00 [INF] CORS policy execution successful.
2025-03-16 18:32:07.833 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:32:07.842 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 18:32:09.404 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 18:32:09.442 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 18:32:09.876 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 2030.7378ms
2025-03-16 18:32:09.880 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:32:09.972 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.AuthenticationErrorException: Kimlik doğrulama hatası!
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 140
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 18:32:10.046 +04:00 [ERR] Kimlik doğrulama hatası!
2025-03-16 18:32:10.064 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 2238.3176ms
2025-03-16 18:32:22.624 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 67
2025-03-16 18:32:22.628 +04:00 [INF] CORS policy execution successful.
2025-03-16 18:32:22.633 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:32:22.637 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 18:32:22.713 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 18:32:22.718 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 18:32:22.917 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 18:32:23.079 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-16 18:32:23.097 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-16 18:32:23.103 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 465.5166ms
2025-03-16 18:32:23.105 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:32:23.109 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 200 null application/json; charset=utf-8 485.1912ms
2025-03-16 18:32:34.019 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Users/update-password-command - application/json 421
2025-03-16 18:32:34.027 +04:00 [INF] CORS policy execution successful.
2025-03-16 18:32:34.027 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api)'
2025-03-16 18:32:34.034 +04:00 [INF] Route matched with {action = "UpdatePasswordCommand", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePasswordCommand(NewCommerce.Application.Features.Commands.AppUser.UpdatePassword.UpdatePasswordCommandRequest) on controller NewCommerce.Api.Controllers.UsersController (NewCommerce.Api).
2025-03-16 18:32:34.096 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-03-16 18:32:34.222 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 18:32:34.231 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-16 18:32:34.240 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 18:32:34.249 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-16 18:32:34.254 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.UpdatePassword.UpdatePasswordCommandResponse'.
2025-03-16 18:32:34.255 +04:00 [INF] Executed action NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api) in 218.481ms
2025-03-16 18:32:34.256 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.UsersController.UpdatePasswordCommand (NewCommerce.Api)'
2025-03-16 18:32:34.257 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Users/update-password-command - 200 null application/json; charset=utf-8 238.4401ms
2025-03-16 18:32:43.976 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 67
2025-03-16 18:32:43.978 +04:00 [INF] CORS policy execution successful.
2025-03-16 18:32:43.979 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:32:43.980 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 18:32:44.000 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 18:32:44.008 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 18:32:44.240 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 259.1946ms
2025-03-16 18:32:44.243 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:32:44.330 +04:00 [ERR] An unhandled exception has occurred while executing the request.
NewCommerce.Application.Exceptions.AuthenticationErrorException: Kimlik doğrulama hatası!
   at NewCommerce.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in D:\GitHub test\NewCommerce\Infrastructure\NewCommerce.Persistence\Services\AuthService.cs:line 140
   at NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in D:\GitHub test\NewCommerce\Core\NewCommerce.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at NewCommerce.Api.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Controllers\AuthController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-16 18:32:44.344 +04:00 [ERR] Kimlik doğrulama hatası!
2025-03-16 18:32:44.348 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 500 null application/json 372.0983ms
2025-03-16 18:32:53.255 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/Login - application/json 66
2025-03-16 18:32:53.257 +04:00 [INF] CORS policy execution successful.
2025-03-16 18:32:53.258 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:32:53.262 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 18:32:53.268 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 18:32:53.275 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-16 18:32:53.368 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-16 18:32:53.374 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-16 18:32:53.376 +04:00 [INF] Executing OkObjectResult, writing value of type 'NewCommerce.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-16 18:32:53.377 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api) in 113.3456ms
2025-03-16 18:32:53.378 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.Login (NewCommerce.Api)'
2025-03-16 18:32:53.380 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/Login - 200 null application/json; charset=utf-8 125.3674ms
2025-03-16 18:36:43.450 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 18:36:43.648 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-16 18:36:43.649 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-16 18:36:43.686 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 18:36:43.687 +04:00 [INF] Hosting environment: Development
2025-03-16 18:36:43.687 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-16 18:36:44.224 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-16 18:36:44.391 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 170.763ms
2025-03-16 18:36:44.404 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-16 18:36:44.411 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 6.4712ms
2025-03-16 18:36:44.414 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-16 18:36:44.453 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.6414ms
2025-03-16 18:36:44.718 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-16 18:36:44.746 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.7654ms
2025-03-16 18:37:14.026 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7077/api/Auth/password-reset - application/json 32
2025-03-16 18:37:14.035 +04:00 [INF] CORS policy execution successful.
2025-03-16 18:37:14.053 +04:00 [INF] Executing endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 18:37:14.077 +04:00 [INF] Route matched with {action = "PasswordReset", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PasswordReset(NewCommerce.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandRequest) on controller NewCommerce.Api.Controllers.AuthController (NewCommerce.Api).
2025-03-16 18:37:15.796 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Email" = @__email_0
LIMIT 1
2025-03-16 18:37:18.847 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-16 18:37:18.858 +04:00 [INF] Executed action NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api) in 4771.602ms
2025-03-16 18:37:18.862 +04:00 [INF] Executed endpoint 'NewCommerce.Api.Controllers.AuthController.PasswordReset (NewCommerce.Api)'
2025-03-16 18:37:18.876 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7077/api/Auth/password-reset - 200 0 null 4850.1528ms
2025-03-16 18:37:59.850 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077//update-password/064caf9e-57f5-4932-ad35-948dd37af8de/Q2ZESjhKMi9zM2sxVVhaUHFWdnp0MUl4eFUzTzk0cENiaENCaTA4UUlRNHgxNDdKTW85ZWJESllYYWtNZ29KZVB5MTIwUk1pZ1Z0bkE4NFY4K1FiRE1XQ3VndVJRQk91WGpYTDhqTHd5Y2RsNGphdlNrNFFkVFp4a1ZJd1IrRHQzT1BYcVo4M0lYbWt6T0Z6THMwN3FQd09YRzlVVy9DK252NGpybC9heUtZc256MDBSbVVxa05hVHNuK2pKcXZNbm1ZS0RWVEo2M3hmc0xBRkx3ZkkzMlhZd0svaWNmbTNtV0hmS3FSOHRYR2FiNzU0 - null null
2025-03-16 18:37:59.884 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077//update-password/064caf9e-57f5-4932-ad35-948dd37af8de/Q2ZESjhKMi9zM2sxVVhaUHFWdnp0MUl4eFUzTzk0cENiaENCaTA4UUlRNHgxNDdKTW85ZWJESllYYWtNZ29KZVB5MTIwUk1pZ1Z0bkE4NFY4K1FiRE1XQ3VndVJRQk91WGpYTDhqTHd5Y2RsNGphdlNrNFFkVFp4a1ZJd1IrRHQzT1BYcVo4M0lYbWt6T0Z6THMwN3FQd09YRzlVVy9DK252NGpybC9heUtZc256MDBSbVVxa05hVHNuK2pKcXZNbm1ZS0RWVEo2M3hmc0xBRkx3ZkkzMlhZd0svaWNmbTNtV0hmS3FSOHRYR2FiNzU0 - 404 0 null 34.7001ms
2025-03-16 18:37:59.893 +04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7077//update-password/064caf9e-57f5-4932-ad35-948dd37af8de/Q2ZESjhKMi9zM2sxVVhaUHFWdnp0MUl4eFUzTzk0cENiaENCaTA4UUlRNHgxNDdKTW85ZWJESllYYWtNZ29KZVB5MTIwUk1pZ1Z0bkE4NFY4K1FiRE1XQ3VndVJRQk91WGpYTDhqTHd5Y2RsNGphdlNrNFFkVFp4a1ZJd1IrRHQzT1BYcVo4M0lYbWt6T0Z6THMwN3FQd09YRzlVVy9DK252NGpybC9heUtZc256MDBSbVVxa05hVHNuK2pKcXZNbm1ZS0RWVEo2M3hmc0xBRkx3ZkkzMlhZd0svaWNmbTNtV0hmS3FSOHRYR2FiNzU0, Response status code: 404
2025-03-18 11:51:21.097 +04:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-18 11:51:21.190 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-18 11:51:21.244 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-18 11:51:21.316 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-03-18 11:51:21.320 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-03-18 11:51:21.341 +04:00 [INF] Applying migration '20250318075110_mig3'.
2025-03-18 11:51:21.439 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CompletedOrders" (
    "Id" uuid NOT NULL,
    "OrderId" uuid NOT NULL,
    "CreateDate" timestamp with time zone NOT NULL,
    "UpdateDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_CompletedOrders" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CompletedOrders_Orders_OrderId" FOREIGN KEY ("OrderId") REFERENCES "Orders" ("Id") ON DELETE CASCADE
);
2025-03-18 11:51:21.442 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_CompletedOrders_OrderId" ON "CompletedOrders" ("OrderId");
2025-03-18 11:51:21.444 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250318075110_mig3', '8.0.10');
2025-03-18 12:21:54.173 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-18 12:21:54.887 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-18 12:21:54.890 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-18 12:21:54.939 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-18 12:21:54.941 +04:00 [INF] Hosting environment: Development
2025-03-18 12:21:54.942 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-18 12:21:55.921 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-18 12:21:56.245 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 337.647ms
2025-03-18 12:21:56.256 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-18 12:21:56.282 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-18 12:21:56.302 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 46.827ms
2025-03-18 12:21:56.377 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 95.3024ms
2025-03-18 12:21:56.848 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-18 12:21:56.915 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.0473ms
2025-03-18 12:50:42.928 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-18 12:50:43.827 +04:00 [INF] Now listening on: https://localhost:7077
2025-03-18 12:50:43.829 +04:00 [INF] Now listening on: http://localhost:5072
2025-03-18 12:50:43.880 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-18 12:50:43.882 +04:00 [INF] Hosting environment: Development
2025-03-18 12:50:43.883 +04:00 [INF] Content root path: D:\GitHub test\NewCommerce\Presentation\NewCommerce.Api
2025-03-18 12:50:44.728 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/index.html - null null
2025-03-18 12:50:45.253 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/index.html - 200 null text/html;charset=utf-8 534.7783ms
2025-03-18 12:50:45.320 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_vs/browserLink - null null
2025-03-18 12:50:45.320 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - null null
2025-03-18 12:50:45.343 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_framework/aspnetcore-browser-refresh.js - 200 13782 application/javascript; charset=utf-8 23.2171ms
2025-03-18 12:50:45.423 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/_vs/browserLink - 200 null text/javascript; charset=UTF-8 103.8318ms
2025-03-18 12:50:46.131 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - null null
2025-03-18 12:50:46.187 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.8271ms
